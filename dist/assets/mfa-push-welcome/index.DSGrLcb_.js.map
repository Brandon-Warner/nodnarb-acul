{"version":3,"file":"index.DSGrLcb_.js","sources":["../../../src/screens/mfa-push-welcome/hooks/useMfaPushWelcomeManager.ts","../../../src/screens/mfa-push-welcome/components/Header.tsx","../../../src/screens/mfa-push-welcome/components/MfaPushWelcomeForm.tsx","../../../src/screens/mfa-push-welcome/index.tsx"],"sourcesContent":["import {\n  useMfaPushWelcome,\n  useScreen,\n  useTransaction,\n  useUser,\n} from \"@auth0/auth0-acul-react/mfa-push-welcome\";\nimport {\n  CustomOptions,\n  MfaPushWelcomeMembers,\n  ScreenMembersOnMfaPushWelcome,\n  TransactionMembers,\n  UserMembers,\n} from \"@auth0/auth0-acul-react/types\";\n\nimport locales from \"@/screens/mfa-push-welcome/locales/en.json\";\nimport { executeSafely } from \"@/utils/helpers/executeSafely\";\n\nexport const useMfaPushWelcomeManager = () => {\n  const screen: ScreenMembersOnMfaPushWelcome = useScreen();\n  const transaction: TransactionMembers = useTransaction();\n  const userInfo: UserMembers = useUser();\n  const mfaPushWelcome: MfaPushWelcomeMembers = useMfaPushWelcome();\n\n  const { texts, data, links } = screen;\n  const { enrolledFactors } = userInfo || {};\n\n  const handleMfaPushWelcomeEnroll = async (\n    payload?: CustomOptions\n  ): Promise<void> => {\n    await executeSafely(\n      `Continue MFA Push Welcome with options: ${JSON.stringify(payload)}`,\n      () => mfaPushWelcome.enroll(payload)\n    );\n  };\n\n  const handlePickAuthenticator = async (\n    payload?: CustomOptions\n  ): Promise<void> => {\n    await executeSafely(\n      `Try Another Method on MFA Push Welcome with options: ${JSON.stringify(payload)}`,\n      () => mfaPushWelcome.pickAuthenticator(payload)\n    );\n  };\n\n  return {\n    data,\n    links,\n    locales,\n    mfaPushWelcome,\n    enrolledFactors,\n    handleMfaPushWelcomeEnroll,\n    handlePickAuthenticator,\n    texts: (texts || {}) as ScreenMembersOnMfaPushWelcome[\"texts\"],\n    errors: transaction.errors || [],\n  };\n};\n","import ULThemeLogo from \"@/components/ULThemeLogo\";\nimport ULThemeSubtitle from \"@/components/ULThemeSubtitle\";\nimport ULThemeTitle from \"@/components/ULThemeTitle\";\n\nimport { useMfaPushWelcomeManager } from \"../hooks/useMfaPushWelcomeManager\";\n\nfunction Header() {\n  const { texts, locales } = useMfaPushWelcomeManager();\n\n  // Use Locales as fallback to SDK texts\n  const titleText = texts?.title || locales.heading.title;\n  const descriptionText = texts?.description || locales.heading.description;\n  const logoAltText = texts?.logoAltText || locales.heading.logoAltText;\n\n  return (\n    <>\n      <ULThemeLogo altText={logoAltText}></ULThemeLogo>\n      <ULThemeTitle>{titleText}</ULThemeTitle>\n      <ULThemeSubtitle className=\"mb-6\">{descriptionText}</ULThemeSubtitle>\n    </>\n  );\n}\n\nexport default Header;\n","import { useForm } from \"react-hook-form\";\n\nimport { useErrors } from \"@auth0/auth0-acul-react/mfa-push-welcome\";\nimport type { CustomOptions, ErrorItem } from \"@auth0/auth0-acul-react/types\";\n\nimport { AppleIcon, GooglePlayIcon } from \"@/assets/icons\";\nimport { Form } from \"@/components/ui/form\";\nimport { ULThemeButton } from \"@/components/ULThemeButton\";\nimport { ULThemeAlert, ULThemeAlertTitle } from \"@/components/ULThemeError\";\nimport ULThemeLink from \"@/components/ULThemeLink\";\nimport { cn } from \"@/lib/utils\";\n\nimport { useMfaPushWelcomeManager } from \"../hooks/useMfaPushWelcomeManager\";\n\nfunction MfaPushWelcomeForm() {\n  const {\n    links,\n    texts,\n    locales,\n    enrolledFactors,\n    handleMfaPushWelcomeEnroll,\n    handlePickAuthenticator,\n  } = useMfaPushWelcomeManager();\n\n  // Initialize the form using react-hook-form\n  const form = useForm<CustomOptions>({});\n\n  // Use Locales as fallback to SDK texts\n  const continueEnrollButtonText =\n    texts?.buttonText || locales.form.continueEnrollButtonText;\n  const androidButtonText =\n    texts?.androidButtonText || locales.form.androidButtonText;\n  const iosButtonText = texts?.iosButtonText || locales.form.iosButtonText;\n  const pickAuthenticatorText =\n    texts?.pickAuthenticatorText || locales.form.pickAuthenticatorText;\n  const shouldShowTryAnotherMethod = enrolledFactors?.length\n    ? enrolledFactors.length > 1\n    : false;\n\n  const { errors, hasError, dismiss } = useErrors();\n\n  // Get general errors (not field-specific)\n  const generalErrors: ErrorItem[] = errors\n    .byType(\"auth0\")\n    .filter((err) => !err.field);\n\n  const onSubmit = async (formData?: CustomOptions) => {\n    await handleMfaPushWelcomeEnroll(formData);\n  };\n\n  const socialIconButtonClassNames =\n    \"grow border theme-universal:focus:ring-4 theme-universal:focus:ring-base-focus/15 border-(--ul-theme-color-secondary-button-border) theme-universal:rounded-button theme-universal:font-button text-(length:--ul-theme-font-buttons-text-size) hover:shadow-(--button-hover-shadow) theme-universal:text-(--ul-theme-color-secondary-button-label)\";\n\n  return (\n    <Form {...form}>\n      <form onSubmit={form.handleSubmit(onSubmit)}>\n        {/* General error messages */}\n        {generalErrors.length > 0 && (\n          <div className=\"space-y-3 mb-4\">\n            {hasError &&\n              generalErrors.map((error) => (\n                <ULThemeAlert\n                  key={error.id}\n                  variant=\"destructive\"\n                  onDismiss={() => dismiss(error.id)}\n                >\n                  <ULThemeAlertTitle>\n                    {error.message || locales.errors.errorOccurred}\n                  </ULThemeAlertTitle>\n                </ULThemeAlert>\n              ))}\n          </div>\n        )}\n\n        <div className=\"text-center\">\n          <div className=\"flex justify-stretch\">\n            <ULThemeLink\n              href={links?.ios}\n              target=\"_blank\"\n              className={cn(socialIconButtonClassNames, \"mr-2\")}\n            >\n              {\n                <div className=\"p-4 w-full\">\n                  <span className=\"table static my-0 mx-auto mb-2\">\n                    {\" \"}\n                    <AppleIcon />\n                  </span>\n                  <span>{iosButtonText}</span>\n                </div>\n              }\n            </ULThemeLink>\n            <ULThemeLink\n              href={links?.android}\n              target=\"_blank\"\n              className={cn(socialIconButtonClassNames)}\n            >\n              {\n                <div className=\"p-4 w-full\">\n                  <span className=\"table static my-0 mx-auto mb-2\">\n                    <GooglePlayIcon />\n                  </span>\n                  <span>{androidButtonText}</span>\n                </div>\n              }\n            </ULThemeLink>\n          </div>\n          {/* Continue Enroll Button */}\n          <ULThemeButton\n            type=\"submit\"\n            variant=\"primary\"\n            className=\"w-full mt-6\"\n          >\n            {continueEnrollButtonText}\n          </ULThemeButton>\n        </div>\n      </form>\n      {/* Try another method link */}\n      {shouldShowTryAnotherMethod && (\n        <ULThemeButton\n          onClick={() => handlePickAuthenticator()}\n          variant=\"link\"\n          size=\"link\"\n          className=\"mt-4 text-center\"\n        >\n          {pickAuthenticatorText}\n        </ULThemeButton>\n      )}\n    </Form>\n  );\n}\n\nexport default MfaPushWelcomeForm;\n","import ULThemeCard from \"@/components/ULThemeCard\";\nimport ULThemePageLayout from \"@/components/ULThemePageLayout\";\nimport { applyAuth0Theme } from \"@/utils/theme/themeEngine\";\n\nimport Header from \"./components/Header\";\nimport MfaPushWelcomeForm from \"./components/MfaPushWelcomeForm\";\nimport { useMfaPushWelcomeManager } from \"./hooks/useMfaPushWelcomeManager\";\n\nfunction MfaPushWelcomeScreen() {\n  // Extracting attributes from hook made out of MfaPushWelcome instance of Auth0 React ACUL SDK\n  const { texts, locales, mfaPushWelcome } = useMfaPushWelcomeManager();\n\n  applyAuth0Theme(mfaPushWelcome);\n  document.title = texts?.pageTitle || locales.page.title;\n\n  return (\n    <ULThemePageLayout className=\"theme-universal\">\n      <ULThemeCard className=\"w-full max-w-[400px] gap-0\">\n        <Header />\n        <MfaPushWelcomeForm />\n      </ULThemeCard>\n    </ULThemePageLayout>\n  );\n}\n\nexport default MfaPushWelcomeScreen;\n"],"names":["useMfaPushWelcomeManager","screen","useScreen","transaction","useTransaction","userInfo","useUser","mfaPushWelcome","useMfaPushWelcome","texts","data","links","enrolledFactors","locales","payload","executeSafely","Header","titleText","descriptionText","logoAltText","jsxs","Fragment","jsx","ULThemeLogo","ULThemeTitle","ULThemeSubtitle","MfaPushWelcomeForm","handleMfaPushWelcomeEnroll","handlePickAuthenticator","form","useForm","continueEnrollButtonText","androidButtonText","iosButtonText","pickAuthenticatorText","shouldShowTryAnotherMethod","errors","hasError","dismiss","useErrors","generalErrors","err","onSubmit","formData","socialIconButtonClassNames","Form","error","ULThemeAlert","ULThemeAlertTitle","ULThemeLink","cn","AppleIcon","GooglePlayIcon","ULThemeButton","MfaPushWelcomeScreen","applyAuth0Theme","ULThemePageLayout","ULThemeCard"],"mappings":"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"}