{"version":3,"file":"index.NiAaSL72.js","sources":["../../../src/screens/mfa-email-list/hooks/useMFAEmailListManager.ts","../../../src/screens/mfa-email-list/components/MFAEmailListHeader.tsx","../../../src/screens/mfa-email-list/components/MFAEmailListOptions.tsx","../../../src/screens/mfa-email-list/index.tsx"],"sourcesContent":["import {\n  goBack,\n  selectMfaEmail,\n  useErrors,\n  useMfaEmailList,\n  useScreen,\n  useUser,\n} from \"@auth0/auth0-acul-react/mfa-email-list\";\nimport {\n  ScreenMembersOnMfaEmailList,\n  SelectMfaEmailOptions,\n} from \"@auth0/auth0-acul-react/types\";\n\nimport { executeSafely } from \"@/utils/helpers/executeSafely\";\n\nimport locales from \"../locales/en.json\";\n\n/**\n * Handles the user login via lists of Email associated with a user\n */\nexport const useMfaEmailListManager = () => {\n  const { texts } = useScreen();\n  const { enrolledEmails } = useUser();\n  const mfaEmailList = useMfaEmailList();\n\n  const handleSelectEmail = async (\n    payload: SelectMfaEmailOptions\n  ): Promise<void> => {\n    await executeSafely(`Enroll using the email`, () =>\n      selectMfaEmail(payload)\n    );\n  };\n\n  const handleBackAction = async (): Promise<void> => {\n    await executeSafely(\"Go Back\", () => goBack());\n  };\n\n  return {\n    mfaEmailList,\n    handleSelectEmail,\n    handleBackAction,\n    texts: (texts || {}) as ScreenMembersOnMfaEmailList[\"texts\"],\n    useErrors: useErrors(),\n    enrolledEmails: enrolledEmails || [],\n    locales,\n  };\n};\n","import { ChevronLeft } from \"lucide-react\";\n\nimport ULThemeTitle from \"@/components/ULThemeTitle\";\n\nimport { useMfaEmailListManager } from \"../hooks/useMFAEmailListManager\";\n\nfunction MFAEmailListHeader() {\n  const { texts, handleBackAction, locales } = useMfaEmailListManager();\n\n  return (\n    <>\n      <span className=\"flex items-center justify-start gap-4 px-7\">\n        <button\n          type=\"button\"\n          onClick={handleBackAction}\n          aria-label={texts?.backText || locales.header.buttonText}\n          className=\"p-1\"\n        >\n          <ChevronLeft size={30} color=\"#6f7780\" />\n        </button>\n        <ULThemeTitle className=\"mt-0 mb-0\">\n          {texts?.title || locales.header.title}\n        </ULThemeTitle>\n      </span>\n    </>\n  );\n}\n\nexport default MFAEmailListHeader;\n","import React from \"react\";\n\nimport type { ErrorItem } from \"@auth0/auth0-acul-react/types\";\nimport { ChevronRight } from \"lucide-react\";\n\nimport { MFAEmailIcon } from \"@/assets/icons/MFAEmailIcon\";\nimport { ULThemeAlert, ULThemeAlertTitle } from \"@/components/ULThemeError\";\nimport ULThemeSeparator from \"@/components/ULThemeSeparator\";\nimport ULThemeSocialProviderButton from \"@/components/ULThemeSocialProviderButton\";\n\nimport { useMfaEmailListManager } from \"../hooks/useMFAEmailListManager\";\n\nfunction MFAEmailList() {\n  // Extracting attributes from hook made out of MFAEmailListInstance class of Auth0 React SDK\n  const { handleSelectEmail, enrolledEmails, useErrors } =\n    useMfaEmailListManager();\n  const { errors, hasError, dismiss } = useErrors;\n\n  // Extract general errors (not field-specific) from the SDK\n  const generalErrors: ErrorItem[] =\n    errors.byType(\"auth0\")?.filter((error) => {\n      return !error.field || error.field === null;\n    }) || [];\n\n  return (\n    <>\n      {/* General error messages */}\n      {hasError && generalErrors.length > 0 && (\n        <div className=\"space-y-3 mb-4\">\n          {generalErrors.map((error: ErrorItem) => (\n            <ULThemeAlert\n              key={error.id}\n              variant=\"destructive\"\n              onDismiss={() => dismiss(error.id)}\n            >\n              <ULThemeAlertTitle>{error.message}</ULThemeAlertTitle>\n            </ULThemeAlert>\n          ))}\n        </div>\n      )}\n\n      {/* Render buttons for each email option */}\n      <div className=\"space-y-0 px-10 pb-10\">\n        {enrolledEmails.map((option) => {\n          return (\n            <React.Fragment key={option.id}>\n              <ULThemeSocialProviderButton\n                displayName={option.email}\n                buttonText={option.email}\n                iconEnd={\n                  <ChevronRight className=\"w-4 h-4 theme-universal:text-input-labels\" />\n                }\n                iconComponent={<MFAEmailIcon />}\n                onClick={() => handleSelectEmail({ index: option.id })}\n                className=\"w-full justify-between px-0 py-4 pr-4\"\n                variant=\"ghost\"\n              ></ULThemeSocialProviderButton>\n              <ULThemeSeparator className=\"my-[2px]\" />\n            </React.Fragment>\n          );\n        })}\n      </div>\n    </>\n  );\n}\nexport default MFAEmailList;\n","import ULThemeCard from \"@/components/ULThemeCard\";\nimport ULThemePageLayout from \"@/components/ULThemePageLayout\";\nimport ULThemeSeparator from \"@/components/ULThemeSeparator\";\nimport { applyAuth0Theme } from \"@/utils/theme\";\n\nimport MFAEmailListHeader from \"./components/MFAEmailListHeader\";\nimport MFAEmailListOptions from \"./components/MFAEmailListOptions\";\nimport { useMfaEmailListManager } from \"./hooks/useMFAEmailListManager\";\n\nfunction MFAEmailList() {\n  // Extracting attributes from hook made out of MFAEmailListInstance class of Auth0 React SDK\n  const { mfaEmailList, texts, locales } = useMfaEmailListManager();\n\n  // Apply theme from SDK instance when screen loads\n  applyAuth0Theme(mfaEmailList);\n  document.title = texts?.pageTitle || locales.pageTitle;\n\n  return (\n    // Applying UDS theme overrides using the \"theme-universal\" class\n    <ULThemePageLayout className=\"theme-universal\">\n      <ULThemeCard className=\"p-0 pt-4 gap-0 w-(--prompt-width) min-h-(--prompt-min-height)\">\n        <MFAEmailListHeader />\n        <ULThemeSeparator className=\"grow-0\" />\n        <MFAEmailListOptions />\n      </ULThemeCard>\n    </ULThemePageLayout>\n  );\n}\n\nexport default MFAEmailList;\n"],"names":["useMfaEmailListManager","texts","useScreen","enrolledEmails","useUser","useMfaEmailList","payload","executeSafely","selectMfaEmail","goBack","useErrors","locales","MFAEmailListHeader","handleBackAction","jsx","Fragment","jsxs","ChevronLeft","ULThemeTitle","MFAEmailList","handleSelectEmail","errors","hasError","dismiss","generalErrors","error","ULThemeAlert","ULThemeAlertTitle","option","React","ULThemeSocialProviderButton","ChevronRight","MFAEmailIcon","ULThemeSeparator","mfaEmailList","applyAuth0Theme","ULThemePageLayout","ULThemeCard","MFAEmailListOptions"],"mappings":"qZAoBaA,EAAyB,IAAM,CAC1C,KAAM,CAAE,MAAAC,CAAA,EAAUC,EAAA,EACZ,CAAE,eAAAC,CAAA,EAAmBC,EAAA,EAe3B,MAAO,CACL,aAfmBC,EAAA,EAgBnB,kBAdwB,MACxBC,GACkB,CAClB,MAAMC,EAAc,yBAA0B,IAC5CC,EAAeF,CAAO,CAAA,CAE1B,EASE,iBAPuB,SAA2B,CAClD,MAAMC,EAAc,UAAW,IAAME,GAAQ,CAC/C,EAME,MAAQR,GAAS,CAAA,EACjB,UAAWS,EAAA,EACX,eAAgBP,GAAkB,CAAA,EAClC,QAAAQ,CAAA,CAEJ,ECxCA,SAASC,GAAqB,CAC5B,KAAM,CAAE,MAAAX,EAAO,iBAAAY,EAAkB,QAAAF,CAAA,EAAYX,EAAA,EAE7C,OACEc,EAAAA,IAAAC,WAAA,CACE,SAAAC,EAAAA,KAAC,OAAA,CAAK,UAAU,6CACd,SAAA,CAAAF,EAAAA,IAAC,SAAA,CACC,KAAK,SACL,QAASD,EACT,aAAYZ,GAAO,UAAYU,EAAQ,OAAO,WAC9C,UAAU,MAEV,SAAAG,EAAAA,IAACG,EAAA,CAAY,KAAM,GAAI,MAAM,SAAA,CAAU,CAAA,CAAA,EAEzCH,EAAAA,IAACI,GAAa,UAAU,YACrB,YAAO,OAASP,EAAQ,OAAO,KAAA,CAClC,CAAA,CAAA,CACF,CAAA,CACF,CAEJ,CCdA,SAASQ,GAAe,CAEtB,KAAM,CAAE,kBAAAC,EAAmB,eAAAjB,EAAgB,UAAAO,CAAA,EACzCV,EAAA,EACI,CAAE,OAAAqB,EAAQ,SAAAC,EAAU,QAAAC,CAAA,EAAYb,EAGhCc,EACJH,EAAO,OAAO,OAAO,GAAG,OAAQI,GACvB,CAACA,EAAM,OAASA,EAAM,QAAU,IACxC,GAAK,CAAA,EAER,OACET,EAAAA,KAAAD,WAAA,CAEG,SAAA,CAAAO,GAAYE,EAAc,OAAS,GAClCV,EAAAA,IAAC,MAAA,CAAI,UAAU,iBACZ,SAAAU,EAAc,IAAKC,GAClBX,EAAAA,IAACY,EAAA,CAEC,QAAQ,cACR,UAAW,IAAMH,EAAQE,EAAM,EAAE,EAEjC,SAAAX,EAAAA,IAACa,EAAA,CAAmB,SAAAF,EAAM,OAAA,CAAQ,CAAA,EAJ7BA,EAAM,EAAA,CAMd,EACH,QAID,MAAA,CAAI,UAAU,wBACZ,SAAAtB,EAAe,IAAKyB,GAEjBZ,OAACa,EAAM,SAAN,CACC,SAAA,CAAAf,EAAAA,IAACgB,EAAA,CACC,YAAaF,EAAO,MACpB,WAAYA,EAAO,MACnB,QACEd,EAAAA,IAACiB,EAAA,CAAa,UAAU,2CAAA,CAA4C,EAEtE,oBAAgBC,EAAA,EAAa,EAC7B,QAAS,IAAMZ,EAAkB,CAAE,MAAOQ,EAAO,GAAI,EACrD,UAAU,wCACV,QAAQ,OAAA,CAAA,EAEVd,EAAAA,IAACmB,EAAA,CAAiB,UAAU,UAAA,CAAW,CAAA,CAAA,EAZpBL,EAAO,EAa5B,CAEH,CAAA,CACH,CAAA,EACF,CAEJ,CCvDA,SAAST,GAAe,CAEtB,KAAM,CAAE,aAAAe,EAAc,MAAAjC,EAAO,QAAAU,CAAA,EAAYX,EAAA,EAGzC,OAAAmC,EAAgBD,CAAY,EAC5B,SAAS,MAAQjC,GAAO,WAAaU,EAAQ,gBAI1CyB,EAAA,CAAkB,UAAU,kBAC3B,SAAApB,EAAAA,KAACqB,EAAA,CAAY,UAAU,gEACrB,SAAA,CAAAvB,EAAAA,IAACF,EAAA,EAAmB,EACpBE,EAAAA,IAACmB,EAAA,CAAiB,UAAU,QAAA,CAAS,QACpCK,EAAA,CAAA,CAAoB,CAAA,CAAA,CACvB,CAAA,CACF,CAEJ"}