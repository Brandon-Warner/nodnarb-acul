import{j as e}from"../shared/react-vendor.C9XDpjI-.js";import{e as x,F as p,U as j,a as y,b as C,c as v,d as k,f as L,g as b,t as f,h as F,i as E,j as R,k as S,l as w,m as A}from"../shared/common.lOgDNxwW.js";import{z as U,B,D as I,G as N,I as P}from"../shared/vendor.CuJT1XvO.js";const z={title:"Enter your email code to log in"},D={logoAlt:"Application Logo",title:"Verify Your Identity",description:"We've sent an email with your code to: {{email}}",emailFallback:"your email"},q={codeLabel:"Enter the 6-digit code",codeRequired:"Please enter the verification code.",submitButton:"Continue",submitting:"Verifying..."},M={resendText:"Didn't receive a code?",resendActionText:"Resend",resendCooldown:"Resend in {{seconds}}s",backButtonText:"Go back"},V={page:z,header:D,form:q,footer:M},h=()=>{const n=U(),s=B(),{texts:t,data:o,links:l}=n;return{emailIdentifierChallenge:s,handleSubmitEmailChallenge:async d=>{const r={code:d?.trim()||""};await x(`Submit Email Challenge with options: ${JSON.stringify(r)}`,()=>s.submitEmailChallenge(r))},handleResendCode:async()=>{await x("Resend email code",()=>s.resendCode({}))},handleReturnToPrevious:async()=>{await x("Return to previous screen",()=>s.returnToPrevious({}))},texts:t||{},isCaptchaAvailable:n.isCaptchaAvailable===!0,data:o,links:l,locales:V}};function G(){const{handleSubmitEmailChallenge:n,texts:s,locales:t}=h(),{errors:o,dismiss:l}=I(),a=N({defaultValues:{code:""}}),{formState:{isSubmitting:c}}=a,m=s?.buttonText||t?.form?.submitButton,d=s?.placeholder||t?.form?.codeLabel,r=o.byType("auth0").filter(i=>!i.field),u=o.byField("code")[0]?.message,T=async i=>{await n(i.code)};return e.jsx(p,{...a,children:e.jsxs("form",{onSubmit:a.handleSubmit(T),children:[r.length>0&&e.jsx("div",{className:"space-y-3 mb-4",children:r.map(i=>e.jsx(j,{variant:"destructive",onDismiss:()=>l(i.id),children:e.jsx(y,{children:i.message})},i.id))}),e.jsx(C,{control:a.control,name:"code",rules:{required:t?.form?.codeRequired},render:({field:i,fieldState:g})=>e.jsxs(v,{children:[e.jsx(k,{...i,label:d,type:"text",inputMode:"numeric",placeholder:"",autoComplete:"one-time-code",autoFocus:!0,error:!!g.error||!!u}),e.jsx(L,{sdkError:u,hasFormError:!!g.error})]})}),e.jsx(b,{type:"submit",variant:"primary",className:"w-full",disabled:c,children:c?t?.form?.submitting:m})]})})}function H(){const{texts:n,handleResendCode:s,handleReturnToPrevious:t,locales:o}=h(),{remaining:l,disabled:a}=P({timeoutSeconds:30}),c=n?.resendText||o?.footer?.resendText,m=n?.resendActionText||o?.footer?.resendActionText,d=n?.backButtonText||o?.footer?.backButtonText,r=async()=>{await s()},u=async()=>{await t()};return e.jsxs("div",{className:"text-center space-y-4 mt-4",children:[e.jsxs("div",{children:[e.jsxs("span",{className:"text-(length:--ul-theme-font-body-text-size) font-body",children:[c," "]}),e.jsx(b,{onClick:r,variant:"link",size:"link",disabled:a,children:a?f("footer.resendCooldown",{seconds:String(l)},o):m})]}),e.jsx("div",{children:e.jsx(b,{onClick:u,variant:"link",size:"link",children:d})})]})}function J(){const{texts:n,data:s,locales:t}=h(),o=n?.logoAltText||t?.header?.logoAlt,l=s?.email||t?.header?.emailFallback,a=n?.description||f("header.description",{email:l},t);return e.jsxs(e.Fragment,{children:[e.jsx(F,{altText:o}),e.jsx(E,{children:n?.title||t?.header?.title}),e.jsx(R,{className:"mb-6",children:a})]})}function Y(){const{emailIdentifierChallenge:n,texts:s,locales:t}=h();return S(n),document.title=s?.pageTitle||t?.page?.title,e.jsx(w,{className:"theme-universal",children:e.jsxs(A,{className:"w-full max-w-[400px] gap-0",children:[e.jsx(J,{}),e.jsx(G,{}),e.jsx(H,{})]})})}export{Y as default};
//# sourceMappingURL=index.Dj4oo8qB.js.map
