import{j as e}from"../shared/react-vendor.C9XDpjI-.js";import{e as F,n as B,o as D,p as b,h as M,i as R,j as $,u as O,F as V,U as I,a as H,b as A,c as v,d as W,f as k,w as K,C as z,g as G,k as J,x as Y,l as Z,m as Q,y as E}from"../shared/common.lOgDNxwW.js";import{V as X,Y as _,Z as ee,G as te,D as se}from"../shared/vendor.CuJT1XvO.js";const oe={title:"Login Password",orText:"OR"},re={title:"Welcome",description:"Enter your password for My Company to continue to My App",logoAltText:"Application Logo"},ae={signupActionText:"Don't have an account?",signupActionLinkText:"Sign Up"},ne={passkeyButtonText:"Continue with a passkey",continueWithText:"Continue with",passkeyLabel:"Passkey"},ie={selectCountryPlaceholder:"Select Country",captchaLabel:"Enter the code shown above*",passwordLabel:"Password*",forgotPasswordLinkText:"Forgot password?",continueButtonText:"Continue",editText:"Edit"},ce={errorOccurred:"An error occurred",identifierRequired:"Identifier is required",passwordRequired:"Password is required",captchaCompletionRequired:"Please complete the CAPTCHA",max200CharsAllowed:"Maximum 200 characters allowed",passwordMinLength:"Password must be at least",charactersText:"characters",captchaTooLong:"CAPTCHA too long"},le={page:oe,heading:re,footer:ae,alternativeLogins:ne,loginPasswordForm:ie,errors:ce},x=()=>{const s=X(),t=_(),o=ee(),{alternateConnections:d}=o,{isCaptchaAvailable:r,texts:a,captcha:i,signupLink:l,resetPasswordLink:h,editIdentifierLink:m,data:w}=t,{isSignupEnabled:L,isForgotPasswordEnabled:T}=o,f=async c=>{const u={username:c?.username.trim(),password:c?.password?.trim()};t.isCaptchaAvailable&&c?.captcha?.trim()&&(u.captcha=c?.captcha.trim());const g={...u,password:"[REDACTED]"};F(`Perform login password operation with options: ${JSON.stringify(g)}`,()=>s.login(u))},P=async c=>{F(`Perform federated login with connection: ${c.connection}`,()=>s.federatedLogin(c))};return{loginPassword:s,texts:a,locales:le,isSignupEnabled:L,isForgotPasswordEnabled:T,isCaptchaAvailable:r,alternateConnections:d,captcha:i,signupLink:l,resetPasswordLink:h,editIdentifierLink:m,data:w,errors:o.errors,handleLoginPassword:f,handleFederatedLogin:P,passwordPolicy:o.passwordPolicy}},de=()=>{const{locales:s,handleFederatedLogin:t,alternateConnections:o}=x();if(!o||o.length===0)return null;const d=r=>{const a={connection:r.name,...r.metadata||{}};t(a)};return e.jsx(e.Fragment,{children:e.jsx("div",{className:"space-y-3 mt-2",children:o?.map(r=>{if(!r?.name)return null;const{displayName:a,iconComponent:i}=B(r),l=`${s?.alternativeLogins?.continueWithText} ${a}`;return e.jsx(D,{displayName:a,buttonText:l,iconComponent:i,onClick:()=>d(r)},r.name)})})})};function me(){const{signupLink:s,texts:t,locales:o}=x();return s?e.jsxs("div",{className:"mt-4 text-left",children:[e.jsx("span",{className:"pr-1 text-body-text text-(length:--ul-theme-font-body-text-size) font-body",children:t?.signupActionText||o?.footer?.signupActionText}),e.jsx(b,{href:s,children:t?.signupActionLinkText||o?.footer?.signupActionLinkText})]}):null}function he(){const{texts:s,locales:t}=x(),o=s?.logoAltText||t?.heading?.logoAltText;return e.jsxs(e.Fragment,{children:[e.jsx(M,{altText:o}),e.jsx(R,{children:s?.title||t?.heading?.title}),e.jsx($,{children:s?.description||t?.heading?.description})]})}function ue(){const{texts:s,locales:t,data:o,captcha:d,editIdentifierLink:r,resetPasswordLink:a,passwordPolicy:i,isCaptchaAvailable:l,handleLoginPassword:h}=x(),m=te({defaultValues:{username:o?.username||"",password:"",captcha:""},reValidateMode:"onBlur"}),{formState:{isSubmitting:w}}=m,L=s?.captchaCodePlaceholder?`${s.captchaCodePlaceholder}*`:t?.loginPasswordForm?.captchaLabel,T=s?.passwordPlaceholder||t?.loginPasswordForm?.passwordLabel,f=s?.forgotPasswordText||t?.loginPasswordForm?.forgotPasswordLinkText,P=s?.buttonText||t?.loginPasswordForm?.continueButtonText,{captchaConfig:c,captchaProps:u,captchaValue:g}=O(d||void 0,L),{errors:j,hasError:S,dismiss:U}=se(),C=j.byField("password")[0]?.message,N=j.byField("captcha")[0]?.message,y=j.byType("auth0").filter(n=>!n.field),q=async n=>{await h({username:n.username,password:n.password,captcha:l&&g?g:void 0})};return e.jsx(V,{...m,children:e.jsxs("form",{onSubmit:m.handleSubmit(q),children:[S&&y.length>0&&e.jsx("div",{className:"space-y-3 mb-4",children:y.map(n=>e.jsx(I,{variant:"destructive",onDismiss:()=>U(n.id),children:e.jsx(H,{children:n.message||t?.errors?.errorOccurred})},n.id))}),e.jsx(A,{control:m.control,name:"username",render:({field:n,fieldState:p})=>e.jsxs(v,{children:[e.jsx(W,{...n,label:"",value:o?.username||"",error:!!p.error,readOnly:!0,endAdornment:e.jsx(b,{href:r||"",children:s?.editEmailText||t?.loginPasswordForm?.editText}),className:"pr-4"}),e.jsx(k,{hasFormError:!!p.error})]})}),e.jsx(A,{control:m.control,name:"password",rules:{required:t?.errors?.passwordRequired,maxLength:{value:200,message:t?.errors?.max200CharsAllowed},minLength:i?.minLength?{value:i.minLength,message:`${t?.errors?.passwordMinLength} ${i.minLength} ${t?.errors?.charactersText}`}:void 0},render:({field:n,fieldState:p})=>e.jsxs(v,{children:[e.jsx(K,{...n,label:T,autoFocus:!0,autoComplete:"current-password",error:!!p.error||!!C}),e.jsx(k,{sdkError:C,hasFormError:!!p.error})]})}),l&&c&&e.jsx(z,{control:m.control,name:"captcha",captcha:c,...u,sdkError:N,rules:{required:t?.errors?.captchaCompletionRequired,maxLength:{value:15,message:t?.errors?.captchaTooLong}}}),a&&e.jsx("div",{className:"mb-4 mt-2 text-left",children:e.jsx(b,{href:a,children:f})}),e.jsx(G,{type:"submit",className:"w-full",disabled:w,children:P})]})})}function we(){const{loginPassword:s,texts:t,locales:o,alternateConnections:d}=x(),r=d&&d.length>0,a=t?.separatorText||o?.page?.orText;document.title=t?.pageTitle||o?.page?.title,J(s);const i=Y("--ul-theme-widget-social-buttons-layout"),l=h=>e.jsxs(e.Fragment,{children:[h==="bottom"&&r&&e.jsx(E,{text:a}),e.jsx(de,{}),h==="top"&&r&&e.jsx(E,{text:a})]});return e.jsx(Z,{className:"theme-universal",children:e.jsxs(Q,{className:"w-full max-w-[400px] gap-0",children:[e.jsx(he,{}),i==="top"&&l("top"),e.jsx(ue,{}),e.jsx(me,{}),i==="bottom"&&l("bottom")]})})}export{we as default};
//# sourceMappingURL=index.DRFgLe3S.js.map
