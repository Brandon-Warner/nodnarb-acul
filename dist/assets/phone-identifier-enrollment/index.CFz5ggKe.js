import{j as e,R as m}from"../shared/react-vendor.C9XDpjI-.js";import{e as T,g as u,h as E,i as L,j as b,F as B,U as C,a as w,d as k,b as F,c as N,k as R,l as S,m as U}from"../shared/common.lOgDNxwW.js";import{aZ as A,a_ as P,D as I,a$ as G,b0 as M,G as V}from"../shared/vendor.CuJT1XvO.js";const $="Use your phone number to log in",D={logoAltText:"Application Logo",title:"Verify Your Identity",description:"We will send a 6-digit code to the following phone number"},H={field:{labelText:"How do you want to receive the code?",smsButton:"Text Message",voiceButton:"Voice Call",sendingCodeText:"Sending"},buttonLabelText:"Continue"},z={backButtonText:"Go back"},J={pageTitle:$,header:D,form:H,footer:z},d=()=>{const n=A(),t=P(),{texts:l,data:o}=n;return{phoneIdentifierEnrollment:t,handleContinueEnrollment:async r=>{const c={type:r};await T(`Continue Phone Identifier Enrollment with options: ${JSON.stringify(c)}`,()=>G(c))},handleReturnToPrevious:async()=>{await T("Return to previous screen",()=>M({}))},texts:l||{},data:o,locales:J,useErrors:I()}};function O(){const{texts:n,handleReturnToPrevious:t,locales:l}=d(),o=n?.backButtonText||l.footer.backButtonText,a=async()=>{await t()};return e.jsx("div",{className:"text-center space-y-2 mt-4",children:e.jsx(u,{onClick:a,variant:"link",size:"link",children:o})})}function W(){const{texts:n,locales:t}=d(),l=n?.logoAltText||t.header.logoAltText,o=n?.title||t.header.title,a=n?.description||t.header.description;return e.jsxs(e.Fragment,{children:[e.jsx(E,{altText:l}),e.jsx(L,{children:o}),e.jsx(b,{className:"mb-6",children:a})]})}function Y(){const{handleContinueEnrollment:n,texts:t,data:l,locales:o,useErrors:a}=d(),i=V({defaultValues:{type:"text"}}),{formState:{isSubmitting:r}}=i,c=t?.continueButtonText||o.form.buttonLabelText,{errors:g,hasError:j,dismiss:y}=a,x=g.byType("auth0")?.filter(s=>!s.field||s.field===null)||[],v=async s=>{await n(s.type)},h=i.watch("type"),f=m.useRef(null),p=m.useRef(null);return m.useEffect(()=>{h==="text"?f.current?.focus():p.current?.focus()},[h]),e.jsx(B,{...i,children:e.jsxs("form",{onSubmit:i.handleSubmit(v),className:"space-y-2",children:[j&&x.length>0&&e.jsx("div",{className:"space-y-3 mb-4",children:x.map(s=>e.jsx(C,{variant:"destructive",onDismiss:()=>y(s.id),children:e.jsx(w,{children:s.message})},s.id))}),e.jsx(k,{label:"",type:"tel",autoFocus:!0,placeholder:l?.phone||"",disabled:!0}),e.jsxs("div",{children:[e.jsx(b,{className:"mb-2 mt-4 theme-universal:text-start",children:t?.chooseMessageTypeText||o.form.field.labelText}),e.jsx(F,{control:i.control,name:"type",render:({field:s})=>e.jsxs(N,{className:"flex gap-2",children:[e.jsx(u,{type:"button",variant:"outline",className:"flex-1",onClick:()=>s.onChange("text"),ref:f,children:t?.smsButtonText||o.form.field.smsButton}),e.jsx(u,{type:"button",variant:"outline",className:"flex-1",onClick:()=>s.onChange("voice"),ref:p,children:t?.voiceButtonText||o.form.field.voiceButton})]})})]}),e.jsx(u,{type:"submit",variant:"primary",className:"w-full mt-3",disabled:r,children:r?`${o.form.field.sendingCodeText}...`:c})]})})}function K(){const{phoneIdentifierEnrollment:n,texts:t,locales:l}=d();return R(n),document.title=t?.pageTitle||l.pageTitle,e.jsx(S,{className:"theme-universal",children:e.jsxs(U,{className:"w-full max-w-[400px] gap-0",children:[e.jsx(W,{}),e.jsx(Y,{}),e.jsx(O,{})]})})}export{K as default};
//# sourceMappingURL=index.CFz5ggKe.js.map
