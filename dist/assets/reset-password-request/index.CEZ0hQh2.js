import{j as e}from"../shared/react-vendor.C9XDpjI-.js";import{e as y,g as C,q as w,h as q,i as U,j as E,u as N,F as D,U as I,a as B,b as M,c as $,d as H,f as V,C as G,k as K,l as z,m as J}from"../shared/common.lOgDNxwW.js";import{bb as x,bc as O,D as Y,N as Q,bd as u,be as W,bf as X,bg as Z,G as _}from"../shared/vendor.CuJT1XvO.js";const ee="Reset your password",te={logoAlt:"Application Logo",title:"Forgot Your Password?"},se={fields:{captcha:{label:"CAPTCHA",required:"Please complete the CAPTCHA"}},button:"Continue",submittingState:"Verifying"},ae={backButton:"Back to My App"},re={pageTitle:ee,header:te,form:se,footer:ae},d=()=>{const{texts:s,captchaImage:t,isCaptchaAvailable:a}=x(),o=async(m,n)=>{const c={username:m?.trim()||""};a&&n?.trim()&&(c.captcha=n.trim()),await y(`Reset password Request with options: ${JSON.stringify(c)}`,()=>X(c))},i=async()=>{await y("Navigating back to login",Z)};return{resetPasswordRequest:W(),handleResetPasswordRequest:o,handleBackToLogin:i,texts:s||{},errors:u().errors||[],allowedIdentifiers:u().allowedIdentifiers||[],captchaImage:t,countryCode:u().countryCode||null,countryPrefix:u().countryPrefix||null,isCaptchaAvailable:x().isCaptchaAvailable===!0,captcha:x().captcha||null,activeIdentifiers:Q(),useErrors:Y(),inputfield:O().submittedFormData?.username||"",locales:re}};function oe(){const{texts:s,handleBackToLogin:t,locales:a}=d(),o=s?.backToLoginLinkText||a.footer.backButton,i=async()=>{await t()};return e.jsx("div",{className:"text-center space-y-2 mt-4",children:e.jsx(C,{onClick:i,variant:"link",size:"link",children:o})})}function ie(){const{texts:s,activeIdentifiers:t,locales:a}=d(),o=w(t||void 0,s),i=s?.logoAltText||a.header.logoAlt;return e.jsxs(e.Fragment,{children:[e.jsx(q,{altText:i}),e.jsx(U,{children:s?.title||a.header.title}),e.jsx(E,{className:"mb-6",children:o.description})]})}function ne(){const{handleResetPasswordRequest:s,texts:t,isCaptchaAvailable:a,captcha:o,activeIdentifiers:i,useErrors:m,locales:n,inputfield:c}=d(),{errors:h,hasError:L,dismiss:v}=m,l=_({defaultValues:{username:String(c),captcha:""}}),{formState:{isSubmitting:f}}=l,A=t?.buttonText||n.form.button,F=t?.captchaCodePlaceholder?`${t.captchaCodePlaceholder}*`:`${n.form.fields.captcha.label}*`,p=w(i,t),b=h.byType("auth0")?.filter(r=>!r.field||r.field===null)||[],g=h.byField("username")[0]?.message,P=h.byField("captcha")[0]?.message,{captchaConfig:T,captchaProps:k,captchaValue:R}=N(o||void 0,F),S=async r=>{await s(r.username,R)};return e.jsx(D,{...l,children:e.jsxs("form",{onSubmit:l.handleSubmit(S),children:[L&&b.length>0&&e.jsx("div",{className:"space-y-3 mb-4",children:b.map(r=>e.jsx(I,{variant:"destructive",onDismiss:()=>v(r.id),children:e.jsx(B,{children:r.message})},r.id))}),e.jsx(M,{control:l.control,name:"username",render:({field:r,fieldState:j})=>e.jsxs($,{children:[e.jsx(H,{...r,label:p.label,type:p.type,inputMode:"text",autoComplete:p.autoComplete,autoFocus:!0,error:!!j.error||!!g}),e.jsx(V,{sdkError:g,hasFormError:!!j.error})]})}),a&&T&&e.jsx(G,{control:l.control,name:"captcha",captcha:T,...k,sdkError:P,rules:{required:n.form.fields.captcha.required},className:"mt-2 mb-4"}),e.jsx(C,{type:"submit",variant:"primary",className:"w-full",disabled:f,children:f?`${n.form.submittingState}...`:A})]})})}function de(){const{resetPasswordRequest:s,texts:t,locales:a}=d();return K(s),document.title=t?.pageTitle||a.pageTitle,e.jsx(z,{className:"theme-universal",children:e.jsxs(J,{className:"w-full max-w-[400px] gap-0",children:[e.jsx(ie,{}),e.jsx(ne,{}),e.jsx(oe,{})]})})}export{de as default};
//# sourceMappingURL=index.CEZ0hQh2.js.map
