{"version":3,"file":"index.DlasC0sO.js","sources":["../../../src/screens/passkey-enrollment/hooks/usePasskeyEnrollmentManager.ts","../../../src/screens/passkey-enrollment/components/Details.tsx","../../../src/screens/passkey-enrollment/components/Footer.tsx","../../../src/screens/passkey-enrollment/components/Header.tsx","../../../src/screens/passkey-enrollment/index.tsx"],"sourcesContent":["import {\n  usePasskeyEnrollment,\n  useScreen,\n} from \"@auth0/auth0-acul-react/passkey-enrollment\";\nimport {\n  CustomOptions,\n  PasskeyEnrollmentMembers,\n  ScreenMembersOnPasskeyEnrollment,\n} from \"@auth0/auth0-acul-react/types\";\n\nimport locales from \"@/screens/passkey-enrollment/locales/en.json\";\nimport { executeSafely } from \"@/utils/helpers/executeSafely\";\n\n/**\n * Handles the passkey enrollment process.\n */\nexport const usePasskeyEnrollmentManager = () => {\n  const screen: ScreenMembersOnPasskeyEnrollment = useScreen();\n  const passkeyEnrollmentInstance: PasskeyEnrollmentMembers =\n    usePasskeyEnrollment();\n\n  const { texts, data, links } = screen;\n\n  const continuePasskeyEnrollment = async (\n    payload?: CustomOptions\n  ): Promise<void> => {\n    executeSafely(\n      `Continue Passkey Enrollment: ${JSON.stringify(payload)}`,\n      () => passkeyEnrollmentInstance.continuePasskeyEnrollment(payload)\n    );\n  };\n\n  const abortPasskeyEnrollment = async (\n    payload?: CustomOptions\n  ): Promise<void> => {\n    executeSafely(\n      `Continue without Passkey Enrollment: ${JSON.stringify(payload)}`,\n      () => passkeyEnrollmentInstance.abortPasskeyEnrollment(payload)\n    );\n  };\n\n  return {\n    data,\n    links,\n    locales,\n    passkeyEnrollmentInstance,\n    continuePasskeyEnrollment,\n    abortPasskeyEnrollment,\n    texts: (texts || {}) as ScreenMembersOnPasskeyEnrollment[\"texts\"],\n  };\n};\n","import { useErrors } from \"@auth0/auth0-acul-react/passkey-enrollment\";\nimport { CustomOptions, ErrorItem } from \"@auth0/auth0-acul-react/types\";\n\nimport {\n  CheckMarkShieldAccent,\n  CheckMarkShieldMask,\n  DeviceGlobeAccent,\n  DeviceGlobeMask,\n  WebAuthPlatform,\n} from \"@/assets/icons\";\nimport { ULThemeButton } from \"@/components/ULThemeButton\";\nimport ULThemeAlert, { ULThemeAlertTitle } from \"@/components/ULThemeError\";\nimport {\n  ULThemeList,\n  ULThemeListDescription,\n  ULThemeListItem,\n  ULThemeListTitle,\n} from \"@/components/ULThemeList\";\nimport { cn } from \"@/lib/utils\";\nimport { extractTokenValue } from \"@/utils/helpers/tokenUtils\";\n\nimport { usePasskeyEnrollmentManager } from \"../hooks/usePasskeyEnrollmentManager\";\n\n/**\n * Passkeys Enrollment Benefits Details Component\n * This component renders the details about the benefits of using passkeys.\n */\nfunction Details() {\n  // Extract necessary methods and properties from the custom hook\n  const { continuePasskeyEnrollment, texts, locales } =\n    usePasskeyEnrollmentManager();\n\n  // Use Locales as fallback to SDK texts\n  const buttonText =\n    texts?.createButtonText || locales.details.createPasskeyText;\n  const passkeyBenefit1Title =\n    texts?.passkeyBenefit1Title || locales.details.passkeyBenefit1Title;\n  const passkeyBenefit1Description =\n    texts?.passkeyBenefit1Description ||\n    locales.details.passkeyBenefit1Description;\n  const passkeyBenefit2Title =\n    texts?.passkeyBenefit2Title || locales.details.passkeyBenefit2Title;\n  const passkeyBenefit2Description =\n    texts?.passkeyBenefit2Description ||\n    locales.details.passkeyBenefit2Description;\n  const passkeyBenefit3Title =\n    texts?.passkeyBenefit3Title || locales.details.passkeyBenefit3Title;\n  const passkeyBenefit3Description =\n    texts?.passkeyBenefit3Description ||\n    locales.details.passkeyBenefit3Description;\n\n  // Using extractTokenValue utility to extract the Icons Color Value from CSS variable\n  const iconColor = extractTokenValue(\"--ul-theme-color-icons\");\n\n  const { errors, hasError, dismiss } = useErrors();\n\n  // Get general errors (not field-specific)\n  const generalErrors: ErrorItem[] = errors\n    .byType(\"auth0\")\n    .filter((err) => !err.field);\n\n  /**\n   * Handles form submission.\n   *\n   * @param data - (Optional) Form custom data\n   */\n  const onCreateClick = async (data?: CustomOptions) => {\n    continuePasskeyEnrollment(data);\n  };\n\n  // Helper function to render icons dynamically\n  const renderIcon = (\n    IconMask: React.ElementType,\n    IconAccent?: React.ElementType,\n    className?: string\n  ) => (\n    <div className=\"relative w-15 h-10 left-1.5\">\n      <IconMask\n        className={cn(\"absolute inline-block opacity-[0.5]\", className)}\n        color={iconColor}\n      />\n      {IconAccent && (\n        <IconAccent className=\"absolute inline-block\" color={iconColor} />\n      )}\n    </div>\n  );\n\n  return (\n    <>\n      {/* Display general errors */}\n      {hasError && generalErrors.length > 0 && (\n        <div className=\"space-y-3 mb-4\">\n          {generalErrors.map((error) => (\n            <ULThemeAlert\n              key={error.id}\n              variant=\"destructive\"\n              onDismiss={() => dismiss(error.id)}\n            >\n              <ULThemeAlertTitle>\n                {error.message || locales.errors.errorOccurred}\n              </ULThemeAlertTitle>\n            </ULThemeAlert>\n          ))}\n        </div>\n      )}\n\n      <ULThemeList variant=\"icon\">\n        <ULThemeListItem\n          icon={renderIcon(WebAuthPlatform, undefined, \"opacity-[1]\")}\n        >\n          <ULThemeListTitle children={passkeyBenefit1Title}></ULThemeListTitle>\n          <ULThemeListDescription\n            children={passkeyBenefit1Description}\n          ></ULThemeListDescription>\n        </ULThemeListItem>\n\n        <ULThemeListItem icon={renderIcon(DeviceGlobeMask, DeviceGlobeAccent)}>\n          <ULThemeListTitle children={passkeyBenefit2Title}></ULThemeListTitle>\n          <ULThemeListDescription\n            children={passkeyBenefit2Description}\n          ></ULThemeListDescription>\n        </ULThemeListItem>\n\n        <ULThemeListItem\n          icon={renderIcon(CheckMarkShieldMask, CheckMarkShieldAccent)}\n        >\n          <ULThemeListTitle children={passkeyBenefit3Title}></ULThemeListTitle>\n          <ULThemeListDescription\n            children={passkeyBenefit3Description}\n          ></ULThemeListDescription>\n        </ULThemeListItem>\n      </ULThemeList>\n\n      {/* Create Passkey button */}\n      <ULThemeButton\n        className=\"w-full\"\n        onClick={() => onCreateClick({ key: \"passkey\" })}\n      >\n        {buttonText}\n      </ULThemeButton>\n    </>\n  );\n}\n\nexport default Details;\n","import { ULThemeButton } from \"@/components/ULThemeButton\";\nimport ULThemeLink from \"@/components/ULThemeLink\";\n\nimport { usePasskeyEnrollmentManager } from \"../hooks/usePasskeyEnrollmentManager\";\n\nfunction Footer() {\n  const { links, texts, locales, abortPasskeyEnrollment } =\n    usePasskeyEnrollmentManager();\n\n  // Use Locales as fallback to SDK texts\n  const continueButtonText =\n    texts?.continueButtonText || locales.footer.continueButtonText;\n  const backButtonText = texts?.backButtonText || locales.footer.backButtonText;\n\n  return (\n    <>\n      <div className=\"mt-4 text-center\">\n        {continueButtonText && (\n          <ULThemeButton\n            variant=\"link\"\n            size=\"link\"\n            onClick={() => abortPasskeyEnrollment()}\n          >\n            {continueButtonText}\n          </ULThemeButton>\n        )}\n      </div>\n      <div className=\"mt-4 text-center\">\n        {links?.back && (\n          <ULThemeLink href={links?.back}>{backButtonText}</ULThemeLink>\n        )}\n      </div>\n    </>\n  );\n}\n\nexport default Footer;\n","import ULThemeLogo from \"@/components/ULThemeLogo\";\nimport ULThemeTitle from \"@/components/ULThemeTitle\";\n\nimport { usePasskeyEnrollmentManager } from \"../hooks/usePasskeyEnrollmentManager\";\n\nfunction Header() {\n  const { texts, locales } = usePasskeyEnrollmentManager();\n\n  // Use Locales as fallback to SDK texts\n  const titleText = texts?.title || locales.heading.title;\n  const logoAltText = texts?.logoAltText || locales.heading.logoAltText;\n\n  return (\n    <>\n      <ULThemeLogo altText={logoAltText}></ULThemeLogo>\n      <ULThemeTitle className=\"mb-10\">{titleText}</ULThemeTitle>\n    </>\n  );\n}\n\nexport default Header;\n","import ULThemeCard from \"@/components/ULThemeCard\";\nimport ULThemePageLayout from \"@/components/ULThemePageLayout\";\nimport { applyAuth0Theme } from \"@/utils/theme/themeEngine\";\n\nimport Details from \"./components/Details\";\nimport Footer from \"./components/Footer\";\nimport Header from \"./components/Header\";\nimport { usePasskeyEnrollmentManager } from \"./hooks/usePasskeyEnrollmentManager\";\n\nfunction PasskeyEnrollmentScreen() {\n  // Extracting attributes from hook made out of PasskeyEnrollmentInstance class of Auth0 React ACUL SDK\n  const { texts, locales, passkeyEnrollmentInstance } =\n    usePasskeyEnrollmentManager();\n\n  // Apply theme from SDK instance when screen loads\n  applyAuth0Theme(passkeyEnrollmentInstance);\n  document.title = texts?.pageTitle || locales.page.title;\n\n  return (\n    // Applying UDS theme overrides using the \"theme-universal\" class\n    <ULThemePageLayout className=\"theme-universal\">\n      <ULThemeCard className=\"w-full max-w-[400px] gap-0\">\n        <Header />\n        <Details />\n        <Footer />\n      </ULThemeCard>\n    </ULThemePageLayout>\n  );\n}\n\nexport default PasskeyEnrollmentScreen;\n"],"names":["usePasskeyEnrollmentManager","screen","useScreen","passkeyEnrollmentInstance","usePasskeyEnrollment","texts","data","links","locales","payload","executeSafely","Details","continuePasskeyEnrollment","buttonText","passkeyBenefit1Title","passkeyBenefit1Description","passkeyBenefit2Title","passkeyBenefit2Description","passkeyBenefit3Title","passkeyBenefit3Description","iconColor","extractTokenValue","errors","hasError","dismiss","useErrors","generalErrors","err","onCreateClick","renderIcon","IconMask","IconAccent","className","jsxs","jsx","cn","Fragment","error","ULThemeAlert","ULThemeAlertTitle","ULThemeList","ULThemeListItem","WebAuthPlatform","ULThemeListTitle","ULThemeListDescription","DeviceGlobeMask","DeviceGlobeAccent","CheckMarkShieldMask","CheckMarkShieldAccent","ULThemeButton","Footer","abortPasskeyEnrollment","continueButtonText","backButtonText","ULThemeLink","Header","titleText","logoAltText","ULThemeLogo","ULThemeTitle","PasskeyEnrollmentScreen","applyAuth0Theme","ULThemePageLayout","ULThemeCard"],"mappings":"yqCAgBaA,EAA8B,IAAM,CAC/C,MAAMC,EAA2CC,EAAA,EAC3CC,EACJC,EAAA,EAEI,CAAE,MAAAC,EAAO,KAAAC,EAAM,MAAAC,CAAA,EAAUN,EAoB/B,MAAO,CACL,KAAAK,EACA,MAAAC,EACA,QAAAC,EACA,0BAAAL,EACA,0BAvBgC,MAChCM,GACkB,CAClBC,EACE,gCAAgC,KAAK,UAAUD,CAAO,CAAC,GACvD,IAAMN,EAA0B,0BAA0BM,CAAO,CAAA,CAErE,EAiBE,uBAf6B,MAC7BA,GACkB,CAClBC,EACE,wCAAwC,KAAK,UAAUD,CAAO,CAAC,GAC/D,IAAMN,EAA0B,uBAAuBM,CAAO,CAAA,CAElE,EASE,MAAQJ,GAAS,CAAA,CAAC,CAEtB,ECvBA,SAASM,GAAU,CAEjB,KAAM,CAAE,0BAAAC,EAA2B,MAAAP,EAAO,QAAAG,CAAA,EACxCR,EAAA,EAGIa,EACJR,GAAO,kBAAoBG,EAAQ,QAAQ,kBACvCM,EACJT,GAAO,sBAAwBG,EAAQ,QAAQ,qBAC3CO,EACJV,GAAO,4BACPG,EAAQ,QAAQ,2BACZQ,EACJX,GAAO,sBAAwBG,EAAQ,QAAQ,qBAC3CS,EACJZ,GAAO,4BACPG,EAAQ,QAAQ,2BACZU,EACJb,GAAO,sBAAwBG,EAAQ,QAAQ,qBAC3CW,EACJd,GAAO,4BACPG,EAAQ,QAAQ,2BAGZY,EAAYC,EAAkB,wBAAwB,EAEtD,CAAE,OAAAC,EAAQ,SAAAC,EAAU,QAAAC,CAAA,EAAYC,EAAA,EAGhCC,EAA6BJ,EAChC,OAAO,OAAO,EACd,OAAQK,GAAQ,CAACA,EAAI,KAAK,EAOvBC,EAAgB,MAAOtB,GAAyB,CACpDM,EAA0BN,CAAI,CAChC,EAGMuB,EAAa,CACjBC,EACAC,EACAC,IAEAC,OAAC,MAAA,CAAI,UAAU,8BACb,SAAA,CAAAC,EAAAA,IAACJ,EAAA,CACC,UAAWK,EAAG,sCAAuCH,CAAS,EAC9D,MAAOZ,CAAA,CAAA,EAERW,GACCG,EAAAA,IAACH,EAAA,CAAW,UAAU,wBAAwB,MAAOX,CAAA,CAAW,CAAA,EAEpE,EAGF,OACEa,EAAAA,KAAAG,WAAA,CAEG,SAAA,CAAAb,GAAYG,EAAc,OAAS,GAClCQ,EAAAA,IAAC,MAAA,CAAI,UAAU,iBACZ,SAAAR,EAAc,IAAKW,GAClBH,EAAAA,IAACI,EAAA,CAEC,QAAQ,cACR,UAAW,IAAMd,EAAQa,EAAM,EAAE,EAEjC,eAACE,EAAA,CACE,SAAAF,EAAM,SAAW7B,EAAQ,OAAO,aAAA,CACnC,CAAA,EANK6B,EAAM,EAAA,CAQd,EACH,EAGFJ,EAAAA,KAACO,EAAA,CAAY,QAAQ,OACnB,SAAA,CAAAP,EAAAA,KAACQ,EAAA,CACC,KAAMZ,EAAWa,EAAiB,OAAW,aAAa,EAE1D,SAAA,CAAAR,EAAAA,IAACS,EAAA,CAAiB,SAAU7B,CAAA,CAAsB,EAClDoB,EAAAA,IAACU,EAAA,CACC,SAAU7B,CAAA,CAAA,CACX,CAAA,CAAA,SAGF0B,EAAA,CAAgB,KAAMZ,EAAWgB,EAAiBC,CAAiB,EAClE,SAAA,CAAAZ,EAAAA,IAACS,EAAA,CAAiB,SAAU3B,CAAA,CAAsB,EAClDkB,EAAAA,IAACU,EAAA,CACC,SAAU3B,CAAA,CAAA,CACX,EACH,EAEAgB,EAAAA,KAACQ,EAAA,CACC,KAAMZ,EAAWkB,EAAqBC,CAAqB,EAE3D,SAAA,CAAAd,EAAAA,IAACS,EAAA,CAAiB,SAAUzB,CAAA,CAAsB,EAClDgB,EAAAA,IAACU,EAAA,CACC,SAAUzB,CAAA,CAAA,CACX,CAAA,CAAA,CACH,EACF,EAGAe,EAAAA,IAACe,EAAA,CACC,UAAU,SACV,QAAS,IAAMrB,EAAc,CAAE,IAAK,UAAW,EAE9C,SAAAf,CAAA,CAAA,CACH,EACF,CAEJ,CCzIA,SAASqC,GAAS,CAChB,KAAM,CAAE,MAAA3C,EAAO,MAAAF,EAAO,QAAAG,EAAS,uBAAA2C,CAAA,EAC7BnD,EAAA,EAGIoD,EACJ/C,GAAO,oBAAsBG,EAAQ,OAAO,mBACxC6C,EAAiBhD,GAAO,gBAAkBG,EAAQ,OAAO,eAE/D,OACEyB,EAAAA,KAAAG,WAAA,CACE,SAAA,CAAAF,EAAAA,IAAC,MAAA,CAAI,UAAU,mBACZ,SACCA,EAAAA,IAACe,EAAA,CACC,QAAQ,OACR,KAAK,OACL,QAAS,IAAME,EAAA,EAEd,SAAAC,CAAA,CAAA,EAGP,EACAlB,EAAAA,IAAC,MAAA,CAAI,UAAU,mBACZ,SAAA3B,GAAO,MACN2B,EAAAA,IAACoB,EAAA,CAAY,KAAM/C,GAAO,KAAO,SAAA8C,CAAA,CAAe,CAAA,CAEpD,CAAA,EACF,CAEJ,CC7BA,SAASE,IAAS,CAChB,KAAM,CAAE,MAAAlD,EAAO,QAAAG,CAAA,EAAYR,EAAA,EAGrBwD,EAAYnD,GAAO,OAASG,EAAQ,QAAQ,MAC5CiD,EAAcpD,GAAO,aAAeG,EAAQ,QAAQ,YAE1D,OACEyB,EAAAA,KAAAG,WAAA,CACE,SAAA,CAAAF,EAAAA,IAACwB,EAAA,CAAY,QAASD,CAAA,CAAa,EACnCvB,EAAAA,IAACyB,EAAA,CAAa,UAAU,QAAS,SAAAH,CAAA,CAAU,CAAA,EAC7C,CAEJ,CCTA,SAASI,IAA0B,CAEjC,KAAM,CAAE,MAAAvD,EAAO,QAAAG,EAAS,0BAAAL,CAAA,EACtBH,EAAA,EAGF,OAAA6D,EAAgB1D,CAAyB,EACzC,SAAS,MAAQE,GAAO,WAAaG,EAAQ,KAAK,YAI/CsD,EAAA,CAAkB,UAAU,kBAC3B,SAAA7B,EAAAA,KAAC8B,EAAA,CAAY,UAAU,6BACrB,SAAA,CAAA7B,EAAAA,IAACqB,GAAA,EAAO,QACP5C,EAAA,EAAQ,QACRuC,EAAA,CAAA,CAAO,CAAA,CAAA,CACV,CAAA,CACF,CAEJ"}