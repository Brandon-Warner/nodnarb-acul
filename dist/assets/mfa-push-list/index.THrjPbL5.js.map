{"version":3,"file":"index.THrjPbL5.js","sources":["../../../src/screens/mfa-push-list/hooks/useMfaPushListManager.ts","../../../src/screens/mfa-push-list/components/MfaPushList.tsx","../../../src/screens/mfa-push-list/components/MfaPushListHeader.tsx","../../../src/screens/mfa-push-list/index.tsx"],"sourcesContent":["import {\n  useMfaPushList,\n  useScreen,\n  useTransaction,\n  useUser,\n} from \"@auth0/auth0-acul-react/mfa-push-list\";\nimport type {\n  CustomOptions,\n  MfaPushListMembers,\n  ScreenMembers,\n  SelectMfaPushDeviceOptions,\n  TransactionMembers,\n  UserMembers,\n} from \"@auth0/auth0-acul-react/types\";\n\nimport locales from \"@/screens/mfa-push-list/locales/en.json\";\nimport { executeSafely } from \"@/utils/helpers/executeSafely\";\n\nexport const useMfaPushListManager = () => {\n  const screen: ScreenMembers = useScreen();\n  const transaction: TransactionMembers = useTransaction();\n  const mfaPushListInstance: MfaPushListMembers = useMfaPushList();\n  const user: UserMembers = useUser();\n\n  const { texts } = screen;\n\n  const handleBackAction = async (payload?: CustomOptions): Promise<void> => {\n    await executeSafely(\"Navigate back\", () =>\n      mfaPushListInstance.goBack(payload)\n    );\n  };\n\n  const handleSelectMFAPushDeviceAction = async (\n    payload?: SelectMfaPushDeviceOptions\n  ): Promise<void> => {\n    const options: SelectMfaPushDeviceOptions = {\n      deviceIndex: payload?.deviceIndex ?? 0,\n    };\n\n    await executeSafely(\n      `Select device with index: ${payload?.deviceIndex}`,\n      () => mfaPushListInstance.selectMfaPushDevice(options)\n    );\n  };\n\n  return {\n    texts: texts || {},\n    locales,\n    errors: transaction.errors || [],\n    user: user || {},\n    mfaPushListInstance,\n    handleBackAction,\n    handleSelectMFAPushDeviceAction,\n  };\n};\n","import { useErrors } from \"@auth0/auth0-acul-react/mfa-push-list\";\nimport { type EnrolledDevice, ErrorItem } from \"@auth0/auth0-acul-react/types\";\nimport { ChevronRight } from \"lucide-react\";\n\nimport { MFADeviceIcon } from \"@/assets/icons\";\nimport { ULThemeAlert, ULThemeAlertTitle } from \"@/components/ULThemeError\";\nimport ULThemeSeparator from \"@/components/ULThemeSeparator\";\nimport ULThemeSocialProviderButton from \"@/components/ULThemeSocialProviderButton\";\n\nimport { useMfaPushListManager } from \"../hooks/useMfaPushListManager\";\n\nfunction MfaPushList() {\n  const { locales, user, handleSelectMFAPushDeviceAction } =\n    useMfaPushListManager();\n\n  const { errors, hasError, dismiss } = useErrors();\n\n  // Get general errors (not field-specific)\n  const generalErrors: ErrorItem[] = errors\n    .byType(\"auth0\")\n    .filter((err) => !err.field);\n\n  // Get enrolled devices from user object\n  const enrolledDevices: EnrolledDevice[] = user?.enrolledDevices || [];\n\n  return (\n    <>\n      {/* General error messages */}\n      {hasError && generalErrors.length > 0 && (\n        <div className=\"space-y-3 mb-4\">\n          {generalErrors.map((error: ErrorItem) => (\n            <ULThemeAlert\n              key={error.id}\n              variant=\"destructive\"\n              onDismiss={() => dismiss(error.id)}\n            >\n              <ULThemeAlertTitle>\n                {error.message || locales.errors.errorOccurred}\n              </ULThemeAlertTitle>\n            </ULThemeAlert>\n          ))}\n        </div>\n      )}\n\n      {/* Render list of enrolled mfa devices */}\n      <div className=\"space-y-0 px-10 pb-10\">\n        {enrolledDevices.map((device) => (\n          <div key={device.id}>\n            <ULThemeSocialProviderButton\n              variant=\"ghost\"\n              displayName={device.device}\n              buttonText={device.device}\n              iconComponent={<MFADeviceIcon className=\"size-full\" />}\n              iconEnd={<ChevronRight size={24} color=\"#6f7780\" />}\n              onClick={() =>\n                handleSelectMFAPushDeviceAction({\n                  deviceIndex: device.id,\n                })\n              }\n              className=\"w-full justify-between px-0 py-4 pr-4\"\n            />\n            <ULThemeSeparator className=\"my-0\" />\n          </div>\n        ))}\n      </div>\n    </>\n  );\n}\n\nexport default MfaPushList;\n","import { ChevronLeft } from \"lucide-react\";\n\nimport {\n  Tooltip,\n  TooltipContent,\n  TooltipTrigger,\n} from \"@/components/ui/tooltip\";\nimport ULThemeTitle from \"@/components/ULThemeTitle\";\n\nimport { useMfaPushListManager } from \"../hooks/useMfaPushListManager\";\n\nfunction MfaPushListHeader() {\n  const { texts, locales, handleBackAction } = useMfaPushListManager();\n\n  // Use Locales as fallback to SDK texts\n  const backText = texts?.backText || locales.heading.goBackActionText;\n  const titleText = texts?.title || locales.heading.title;\n\n  return (\n    <>\n      {/* Header with back button and title */}\n      <span className=\"flex items-center justify-start gap-14 px-7\">\n        <Tooltip>\n          <TooltipTrigger\n            onClick={() => handleBackAction()}\n            aria-label={backText}\n            className=\"h-8 w-8 p-0 -ml-2 cursor-pointer\"\n          >\n            <ChevronLeft size={24} />\n          </TooltipTrigger>\n          <TooltipContent\n            side=\"top\"\n            sideOffset={0}\n            className=\"bg-black text-white -mb-2 ml-0.5\"\n          >\n            {backText}\n          </TooltipContent>\n        </Tooltip>\n        <ULThemeTitle className=\"mt-0 mb-0\">{titleText}</ULThemeTitle>\n      </span>\n    </>\n  );\n}\n\nexport default MfaPushListHeader;\n","import ULThemeCard from \"@/components/ULThemeCard\";\nimport ULThemePageLayout from \"@/components/ULThemePageLayout\";\nimport ULThemeSeparator from \"@/components/ULThemeSeparator\";\nimport { applyAuth0Theme } from \"@/utils/theme/themeEngine\";\n\nimport MfaPushList from \"./components/MfaPushList\";\nimport MfaPushListHeader from \"./components/MfaPushListHeader\";\nimport { useMfaPushListManager } from \"./hooks/useMfaPushListManager\";\n\nfunction MfaPushListScreen() {\n  // Extracting attributes from hook made out of MfaPushList instance of Auth0 React ACUL SDK\n  const { texts, locales, mfaPushListInstance } = useMfaPushListManager();\n\n  applyAuth0Theme(mfaPushListInstance);\n  document.title = texts?.pageTitle || locales.page.title;\n\n  return (\n    <ULThemePageLayout className=\"theme-universal\">\n      <ULThemeCard className=\"p-0 pt-4 gap-0 w-(--prompt-width) min-h-(--prompt-min-height)\">\n        <MfaPushListHeader />\n        <ULThemeSeparator className=\"grow-0\" />\n        <MfaPushList />\n      </ULThemeCard>\n    </ULThemePageLayout>\n  );\n}\n\nexport default MfaPushListScreen;\n"],"names":["useMfaPushListManager","screen","useScreen","transaction","useTransaction","mfaPushListInstance","useMfaPushList","user","useUser","texts","handleBackAction","payload","executeSafely","handleSelectMFAPushDeviceAction","options","locales","MfaPushList","errors","hasError","dismiss","useErrors","generalErrors","err","enrolledDevices","jsxs","Fragment","jsx","error","ULThemeAlert","ULThemeAlertTitle","device","ULThemeSocialProviderButton","MFADeviceIcon","ChevronRight","ULThemeSeparator","MfaPushListHeader","backText","titleText","Tooltip","TooltipTrigger","ChevronLeft","TooltipContent","ULThemeTitle","MfaPushListScreen","applyAuth0Theme","ULThemePageLayout","ULThemeCard"],"mappings":"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"}