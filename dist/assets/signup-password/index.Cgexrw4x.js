import{j as e}from"../shared/react-vendor.C9XDpjI-.js";import{e as V,p as M,h as O,i as $,j as H,u as Y,F as G,U as z,a as I,d as g,b as J,c as K,w as _,f as Q,C as W,a7 as X,g as Z,k as ee,l as se,m as ae}from"../shared/common.lOgDNxwW.js";import{br as te,bs as re,D as oe,G as le,b2 as ne}from"../shared/vendor.CuJT1XvO.js";const ie={title:"Create Your Account"},ce={logoAlt:"Application Logo",title:"Create Your Account",description:"Set your password for dev-xyz to continue to my application"},de={fields:{email:{label:"Email"},phone:{label:"Phone"},username:{label:"Username"},password:{label:"Password",required:"Password is required",doesNotMeetRequirements:"Password does not meet requirements"},captcha:{label:"CAPTCHA",imageAlt:"CAPTCHA challenge",required:"Please complete the CAPTCHA"}},button:"Continue",passwordSecurity:"Your password must contain:"},ue={backButton:"Go back"},me={page:ie,header:ce,form:de,footer:ue},w=()=>{const a=te(),o=re(),{isCaptchaAvailable:n,texts:s,editLink:d,captcha:t}=o;return{signupPassword:a,handleSignupPassword:async l=>{const i={password:l.password};l.email?.trim()&&(i.email=l.email.trim()),l.phoneNumber&&(i.phoneNumber=l.phoneNumber),l.username?.trim()&&(i.username=l.username.trim()),o.isCaptchaAvailable&&l.captcha?.trim()&&(i.captcha=l.captcha.trim());const c={...i,password:"[REDACTED]"};V(`Signup password with options: ${JSON.stringify(c)}`,()=>a.signup(i))},texts:s,isCaptchaAvailable:n,editLink:d,captcha:t,locales:me}};function pe(){const{editLink:a,texts:o,locales:n}=w();if(!a)return null;const s=o?.backButtonText||n.footer.backButton;return e.jsx("div",{className:"mt-4 text-center",children:a&&e.jsx(M,{href:a,children:s})})}function he(){const{texts:a,locales:o}=w(),n=a?.logoAltText||o.header.logoAlt,s=a?.title||o.header.title,d=a?.description||o.header.description;return e.jsxs(e.Fragment,{children:[e.jsx(O,{altText:n}),e.jsx($,{children:s}),e.jsx(H,{children:d})]})}function fe(){const{handleSignupPassword:a,isCaptchaAvailable:o,signupPassword:n,texts:s,captcha:d,locales:t}=w(),{errors:u,hasError:l,dismiss:i}=oe(),c=le({defaultValues:{email:"",username:"",phoneNumber:"",password:"",captcha:""},reValidateMode:"onBlur"}),{formState:{isSubmitting:A},watch:S}=c,T=S("password"),{isValid:C,results:F}=ne(T),x=n?.screen?.data,m=x?.email,p=x?.phoneNumber,h=x?.username,y=s?.buttonText||t.form.button,v=s?.captchaCodePlaceholder?`${s.captchaCodePlaceholder}*`:`${t.form.fields.captcha.label}*`,U=s?.passwordPlaceholder?`${s.passwordPlaceholder}*`:`${t.form.fields.password.label}*`,N=s?.passwordSecurityText||t.form.passwordSecurity,E=s?.emailPlaceholder||t.form.fields.email.label,k=s?.phonePlaceholder||t.form.fields.phone.label,q=s?.usernamePlaceholder||t.form.fields.username.label,{captchaConfig:P,captchaProps:D}=Y(d||void 0,v),f=["password","captcha"];m&&f.push("email"),p&&f.push("phone","phone_number"),h&&f.push("username");const j=u.byType("auth0").filter(r=>!r.field||r.field===null?!0:!f.includes(r.field)),L=u.byField("password")[0]?.message,B=u.byField("captcha")[0]?.message,R=async r=>{const b={...r,email:m,username:h,phoneNumber:p};await a(b)};return e.jsx(G,{...c,children:e.jsxs("form",{onSubmit:c.handleSubmit(R),children:[l&&j.length>0&&e.jsx("div",{className:"space-y-3 mb-4",children:j.map(r=>e.jsx(z,{variant:"destructive",onDismiss:()=>i(r.id),children:e.jsx(I,{children:r.message})},r.id))}),m&&e.jsx(g,{id:"signup-email-field",label:E,type:"email",value:m,readOnly:!0,disabled:!0}),p&&e.jsx(g,{id:"signup-phone-field",label:k,type:"tel",value:p,readOnly:!0,disabled:!0}),h&&e.jsx(g,{id:"signup-username-field",label:q,type:"text",value:h,readOnly:!0,disabled:!0}),e.jsx(J,{control:c.control,name:"password",rules:{required:t.form.fields.password.required,validate:r=>r?C?!0:t.form.fields.password.doesNotMeetRequirements:t.form.fields.password.required},render:({field:r,fieldState:b})=>e.jsxs(K,{children:[e.jsx(_,{...r,label:U,error:!!b.error||!!L,autoFocus:!0}),e.jsx(Q,{sdkError:L,hasFormError:!!b.error})]})}),o&&P&&e.jsx(W,{control:c.control,name:"captcha",captcha:P,...D,sdkError:B,rules:{required:t.form.fields.captcha.required}}),e.jsx(X,{validationRules:F,passwordSecurityText:N,show:!!T,className:"mb-4"}),e.jsx(Z,{type:"submit",className:"w-full",disabled:A,children:y})]})})}function ge(){const{signupPassword:a,texts:o,locales:n}=w();return document.title=o?.pageTitle||n.page.title,ee(a),e.jsx(se,{className:"theme-universal",children:e.jsxs(ae,{className:"w-full max-w-[400px] gap-0",children:[e.jsx(he,{}),e.jsx(fe,{}),e.jsx(pe,{})]})})}export{ge as default};
//# sourceMappingURL=index.Cgexrw4x.js.map
