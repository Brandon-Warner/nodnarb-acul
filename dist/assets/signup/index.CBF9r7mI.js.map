{"version":3,"file":"index.CBF9r7mI.js","sources":["../../../src/screens/signup/hooks/useSignupManager.ts","../../../src/screens/signup/components/AlternativeLogins.tsx","../../../src/screens/signup/components/Footer.tsx","../../../src/screens/signup/components/Header.tsx","../../../src/screens/signup/components/SignupForm.tsx","../../../src/screens/signup/index.tsx"],"sourcesContent":["import {\n  useScreen,\n  useSignup,\n  useTransaction,\n} from \"@auth0/auth0-acul-react/signup\";\nimport type {\n  FederatedSignupOptions,\n  ScreenMembersOnSignup,\n  SignupPayloadOptions,\n  TransactionMembersOnSignup,\n} from \"@auth0/auth0-acul-react/types\";\n\nimport { executeSafely } from \"@/utils/helpers/executeSafely\";\n\nimport locales from \"../locales/en.json\";\n\nexport const useSignupManager = () => {\n  const signup = useSignup();\n\n  const screen: ScreenMembersOnSignup = useScreen();\n  const transaction: TransactionMembersOnSignup = useTransaction();\n  const { alternateConnections } = transaction;\n\n  const { isCaptchaAvailable, texts, loginLink, captcha } = screen;\n\n  const handleSignup = async (payload: SignupPayloadOptions): Promise<void> => {\n    // Clean and prepare data, transforming phoneNumber to phone for SDK\n    const options: SignupPayloadOptions = {};\n\n    if (payload.email?.trim()) {\n      options.email = payload.email.trim();\n    }\n    // Transform phoneNumber to phone for SDK\n    if (payload.phoneNumber?.trim()) {\n      options.phoneNumber = payload.phoneNumber.trim();\n    }\n    if (payload.username?.trim()) {\n      options.username = payload.username.trim();\n    }\n    if (screen.isCaptchaAvailable && payload.captcha?.trim()) {\n      options.captcha = payload.captcha.trim();\n    }\n    if (payload.password) {\n      options.password = payload.password;\n    }\n\n    // Password redacted from logs\n    const logOptions = {\n      ...options,\n      password: options.password ? \"[REDACTED]\" : undefined,\n    };\n\n    executeSafely(`Signup with options: ${JSON.stringify(logOptions)}`, () =>\n      signup.signup(options)\n    );\n  };\n\n  const handleFederatedSignup = async (payload: FederatedSignupOptions) => {\n    executeSafely(\n      `Federated signup with connection: ${payload.connection}`,\n      () => signup.federatedSignup(payload)\n    );\n  };\n\n  const handlePickCountryCode = async (): Promise<void> => {\n    executeSafely(`Pick country code`, () => signup.pickCountryCode());\n  };\n\n  return {\n    signup,\n    transaction,\n    handleSignup,\n    handleFederatedSignup,\n    handlePickCountryCode,\n    texts,\n    isCaptchaAvailable,\n    loginLink,\n    alternateConnections,\n    captcha,\n    locales,\n  };\n};\n","import ULThemeSocialProviderButton from \"@/components/ULThemeSocialProviderButton\";\nimport type { SocialConnection } from \"@/utils/helpers/socialUtils\";\nimport { getSocialProviderDetails } from \"@/utils/helpers/socialUtils\";\n\nimport { useSignupManager } from \"../hooks/useSignupManager\";\n\nconst AlternativeLogins = () => {\n  const { alternateConnections, handleFederatedSignup, locales } =\n    useSignupManager();\n\n  const handleConnectionSignup = (connection: SocialConnection) => {\n    const federatedSignupOptions = {\n      connection: connection.name,\n      // Include any additional metadata if available\n      ...(connection.metadata || {}),\n    };\n\n    handleFederatedSignup(federatedSignupOptions);\n  };\n\n  // Early return if no connections are available\n  if (!alternateConnections || alternateConnections.length === 0) {\n    return null;\n  }\n\n  return (\n    <div className=\"space-y-3 mt-2\">\n      {alternateConnections.map((connection: SocialConnection) => {\n        // Skip connections without valid names\n        if (!connection?.name) {\n          return null;\n        }\n\n        const { displayName, iconComponent } =\n          getSocialProviderDetails(connection);\n        const socialButtonText = `${locales.social.continueWith} ${displayName}`;\n\n        return (\n          <ULThemeSocialProviderButton\n            key={connection.name}\n            displayName={displayName}\n            buttonText={socialButtonText}\n            iconComponent={iconComponent}\n            onClick={() => handleConnectionSignup(connection)}\n          />\n        );\n      })}\n    </div>\n  );\n};\n\nexport default AlternativeLogins;\n","import ULThemeLink from \"@/components/ULThemeLink\";\n\nimport { useSignupManager } from \"../hooks/useSignupManager\";\n\nfunction Footer() {\n  const { loginLink, texts, locales } = useSignupManager();\n\n  if (!loginLink) {\n    return null;\n  }\n\n  // Handle text fallbacks in component\n  const footerText = texts?.footerText || locales.footer.text;\n  const footerLinkText = texts?.footerLinkText || locales.footer.linkText;\n\n  return (\n    <div className=\"mt-4 text-left\">\n      <span className=\"pr-1 text-body-text text-(length:--ul-theme-font-body-text-size) font-body\">\n        {footerText}\n      </span>\n      {loginLink && (\n        <ULThemeLink href={loginLink}>{footerLinkText}</ULThemeLink>\n      )}\n    </div>\n  );\n}\n\nexport default Footer;\n","import ULThemeLogo from \"@/components/ULThemeLogo\";\nimport ULThemeSubtitle from \"@/components/ULThemeSubtitle\";\nimport ULThemeTitle from \"@/components/ULThemeTitle\";\n\nimport { useSignupManager } from \"../hooks/useSignupManager\";\n\nfunction Header() {\n  const { texts, locales } = useSignupManager();\n\n  // Handle text fallbacks in component\n  const logoAltText = texts?.logoAltText || locales.header.logoAlt;\n  const title = texts?.title || locales.header.title;\n  const description = texts?.description || locales.header.description;\n\n  return (\n    <>\n      <ULThemeLogo altText={logoAltText}></ULThemeLogo>\n      <ULThemeTitle>{title}</ULThemeTitle>\n      <ULThemeSubtitle>{description}</ULThemeSubtitle>\n    </>\n  );\n}\n\nexport default Header;\n","import { useCallback, useMemo } from \"react\";\nimport { useForm } from \"react-hook-form\";\n\nimport {\n  useErrors,\n  usePasswordValidation,\n  useSignupIdentifiers,\n  useUsernameValidation,\n} from \"@auth0/auth0-acul-react/signup\";\nimport type {\n  ErrorItem,\n  IdentifierType,\n  PasswordValidationResult,\n  SignupPayloadOptions,\n  UsernameValidationResult,\n} from \"@auth0/auth0-acul-react/types\";\n\nimport Captcha from \"@/components/Captcha/index\";\nimport { ULThemeFloatingLabelField } from \"@/components/form/ULThemeFloatingLabelField\";\nimport { ULThemeFormMessage } from \"@/components/form/ULThemeFormMessage\";\nimport { Form, FormField, FormItem } from \"@/components/ui/form\";\nimport { ULThemeButton } from \"@/components/ULThemeButton\";\nimport ULThemeCountryCodePicker from \"@/components/ULThemeCountryCodePicker\";\nimport { ULThemeAlert, ULThemeAlertTitle } from \"@/components/ULThemeError\";\nimport { ULThemePasswordField } from \"@/components/ULThemePasswordField\";\nimport { ULThemePasswordValidator } from \"@/components/ULThemePasswordValidator\";\nimport { useCaptcha } from \"@/hooks/useCaptcha\";\nimport { transformAuth0CountryCode } from \"@/utils/helpers/countryUtils\";\nimport { getIndividualIdentifierDetails } from \"@/utils/helpers/identifierUtils\";\nimport { createUsernameValidator } from \"@/utils/validations\";\n\nimport { useSignupManager } from \"../hooks/useSignupManager\";\n\nfunction SignupForm() {\n  const {\n    handleSignup,\n    handlePickCountryCode,\n    isCaptchaAvailable,\n    transaction,\n    texts,\n    captcha,\n    locales,\n  } = useSignupManager();\n\n  const { errors, hasError, dismiss } = useErrors();\n\n  const form = useForm<SignupPayloadOptions>({\n    defaultValues: {\n      email: \"\",\n      phoneNumber: \"\",\n      username: \"\",\n      password: \"\",\n      captcha: \"\",\n    },\n    reValidateMode: \"onBlur\",\n  });\n\n  const {\n    formState: { isSubmitting },\n    watch,\n  } = form;\n\n  // Username validation\n  const userNameValue = watch(\"username\");\n  const {\n    isValid: isUsernameValid,\n    errors: userNameErrors,\n  }: UsernameValidationResult = useUsernameValidation(userNameValue || \"\");\n\n  // Password validation\n  const passwordValue = watch(\"password\");\n  const {\n    isValid: isPasswordValid,\n    results: passwordResults,\n  }: PasswordValidationResult = usePasswordValidation(passwordValue || \"\");\n\n  // Get identifiers from transaction\n  const enabledIdentifiers = useSignupIdentifiers();\n\n  // Extract required and optional identifiers from the hook data\n  const requiredIdentifiers = useMemo(\n    () =>\n      (enabledIdentifiers || [])\n        .filter((identifier) => identifier.required)\n        .map((identifier) => identifier.type),\n    [enabledIdentifiers]\n  );\n\n  const optionalIdentifiers = useMemo(\n    () =>\n      (enabledIdentifiers || [])\n        .filter((identifier) => !identifier.required)\n        .map((identifier) => identifier.type),\n    [enabledIdentifiers]\n  );\n\n  // Handle country code selection for phone input\n  const handleCountryCodeSelect = useCallback(() => {\n    handlePickCountryCode();\n  }, [handlePickCountryCode]);\n\n  // Handle form submission\n  const onSubmit = async (values: SignupPayloadOptions) => {\n    await handleSignup(values);\n  };\n\n  // Get field-specific errors using SDK's errors helper\n  const getIdentifierError = useCallback(\n    (identifierType: IdentifierType) => {\n      const fieldErrors = errors.byField(identifierType);\n      return fieldErrors.length > 0 ? fieldErrors[0].message : undefined;\n    },\n    [errors]\n  );\n\n  const captchaSDKError = errors.byField(\"captcha\")[0]?.message;\n  const passwordSDKError = errors.byField(\"password\")[0]?.message;\n\n  // Get general errors (errors without a specific field)\n  const generalErrors: ErrorItem[] = errors\n    .byType(\"auth0\")\n    .filter((err) => !err.field);\n\n  // Use locale strings with fallback to SDK texts\n  const passwordLabel = texts?.passwordPlaceholder\n    ? `${texts.passwordPlaceholder}*`\n    : `${locales.form.fields.password.label}*`;\n  const captchaLabel = texts?.captchaCodePlaceholder\n    ? `${texts.captchaCodePlaceholder}*`\n    : `${locales.form.fields.captcha.label}*`;\n  const buttonText = texts?.buttonText || locales.form.button;\n  const passwordSecurityText =\n    texts?.passwordSecurityText || locales.form.passwordSecurity;\n\n  // Setup captcha with useCaptcha hook\n  const { captchaConfig, captchaProps } = useCaptcha(\n    captcha || undefined,\n    captchaLabel\n  );\n\n  // Transform the phone country code for display\n  const phoneCountryCode = transformAuth0CountryCode(\n    transaction?.countryCode,\n    transaction?.countryPrefix\n  );\n\n  // Render identifier fields helper function\n  const renderIdentifierField = useCallback(\n    (identifierType: IdentifierType, isRequired: boolean) => {\n      if (identifierType === \"phone\") {\n        return (\n          <div\n            key={`${isRequired ? \"required\" : \"optional\"}-phone-container`}\n            className=\"space-y-2\"\n          >\n            <ULThemeCountryCodePicker\n              selectedCountry={phoneCountryCode}\n              onClick={handleCountryCodeSelect}\n              fullWidth\n              placeholder=\"Select Country\"\n            />\n            <FormField\n              control={form.control}\n              name=\"phoneNumber\"\n              rules={{\n                required: isRequired\n                  ? locales.form.fields.common.required\n                  : false,\n              }}\n              render={({ field, fieldState }) => {\n                const { label, type, autoComplete } =\n                  getIndividualIdentifierDetails(\"phone\", isRequired, texts);\n                const sdkError = getIdentifierError(\"phone\");\n\n                return (\n                  <FormItem>\n                    <ULThemeFloatingLabelField\n                      {...field}\n                      value={String(field.value || \"\")}\n                      label={label}\n                      type={type}\n                      autoComplete={autoComplete}\n                      error={!!fieldState.error || !!sdkError}\n                    />\n                    <ULThemeFormMessage\n                      sdkError={sdkError}\n                      hasFormError={!!fieldState.error}\n                    />\n                  </FormItem>\n                );\n              }}\n            />\n          </div>\n        );\n      }\n\n      // Handle other identifier types (email, username)\n      return (\n        <FormField\n          key={identifierType}\n          control={form.control}\n          name={identifierType}\n          rules={{\n            required: isRequired ? locales.form.fields.common.required : false,\n            ...(identifierType === \"username\" && {\n              validate: createUsernameValidator(\n                isUsernameValid,\n                userNameErrors,\n                isRequired,\n                locales.form.fields.common.required\n              ),\n            }),\n          }}\n          render={({ field, fieldState }) => {\n            const { label, type, autoComplete } =\n              getIndividualIdentifierDetails(identifierType, isRequired, texts);\n            const sdkError = getIdentifierError(identifierType);\n\n            return (\n              <FormItem>\n                <ULThemeFloatingLabelField\n                  {...field}\n                  label={label}\n                  type={type}\n                  autoComplete={autoComplete}\n                  error={!!fieldState.error || !!sdkError}\n                />\n                <ULThemeFormMessage\n                  sdkError={sdkError}\n                  hasFormError={!!fieldState.error}\n                />\n              </FormItem>\n            );\n          }}\n        />\n      );\n    },\n    [\n      form.control,\n      locales.form.fields.common.required,\n      isUsernameValid,\n      userNameErrors,\n      phoneCountryCode,\n      handleCountryCodeSelect,\n      texts,\n      getIdentifierError,\n    ]\n  );\n\n  // Render fields helper function\n  const renderFields = useCallback(\n    (identifiers: IdentifierType[], isRequired: boolean) =>\n      identifiers.map((identifierType) =>\n        renderIdentifierField(identifierType, isRequired)\n      ),\n    [renderIdentifierField]\n  );\n\n  return (\n    <Form {...form}>\n      <form onSubmit={form.handleSubmit(onSubmit)}>\n        {/* Display general errors */}\n        {hasError && generalErrors.length > 0 && (\n          <div className=\"space-y-3 mb-4\">\n            {generalErrors.map((error) => (\n              <ULThemeAlert\n                key={error.id}\n                variant=\"destructive\"\n                onDismiss={() => dismiss(error.id)}\n              >\n                <ULThemeAlertTitle>\n                  {error.message || locales.errors.general}\n                </ULThemeAlertTitle>\n              </ULThemeAlert>\n            ))}\n          </div>\n        )}\n\n        {/* Required identifier fields first */}\n        {renderFields(requiredIdentifiers, true)}\n\n        {/* Optional identifier fields */}\n        {renderFields(optionalIdentifiers, false)}\n\n        {/* Password Field */}\n        <FormField\n          control={form.control}\n          name=\"password\"\n          rules={{\n            required: locales.form.fields.password.required,\n            validate: () => {\n              if (!isPasswordValid)\n                return locales.form.fields.password.doesNotMeetRequirements;\n              return true;\n            },\n          }}\n          render={({ field, fieldState }) => (\n            <FormItem>\n              <ULThemePasswordField\n                {...field}\n                value={String(field.value || \"\")}\n                label={passwordLabel}\n                autoComplete=\"new-password\"\n                error={!!fieldState.error || !!passwordSDKError}\n              />\n              <ULThemeFormMessage\n                sdkError={passwordSDKError}\n                hasFormError={!!fieldState.error}\n              />\n            </FormItem>\n          )}\n        />\n\n        {/* Captcha Field */}\n        {isCaptchaAvailable && captchaConfig && (\n          <Captcha\n            control={form.control}\n            name=\"captcha\"\n            captcha={captchaConfig}\n            {...captchaProps}\n            sdkError={captchaSDKError}\n            rules={{\n              required: locales.form.fields.captcha.required,\n            }}\n          />\n        )}\n\n        {/* Password Validation Rules */}\n        <ULThemePasswordValidator\n          validationRules={passwordResults}\n          passwordSecurityText={passwordSecurityText}\n          show={!!passwordValue}\n        />\n\n        {/* Submit Button */}\n        <ULThemeButton type=\"submit\" className=\"w-full\" disabled={isSubmitting}>\n          {buttonText}\n        </ULThemeButton>\n      </form>\n    </Form>\n  );\n}\n\nexport default SignupForm;\n","import ULThemeCard from \"@/components/ULThemeCard\";\nimport ULThemePageLayout from \"@/components/ULThemePageLayout\";\nimport ULThemeSeparator from \"@/components/ULThemeSeparator\";\nimport { extractTokenValue } from \"@/utils/helpers/tokenUtils\";\nimport { applyAuth0Theme } from \"@/utils/theme/themeEngine\";\n\nimport AlternativeLogins from \"./components/AlternativeLogins\";\nimport Footer from \"./components/Footer\";\nimport Header from \"./components/Header\";\nimport SignupForm from \"./components/SignupForm\";\nimport { useSignupManager } from \"./hooks/useSignupManager\";\n\nfunction SignupScreen() {\n  // Extracting attributes from hook made out of SignupInstance class of Auth0 React ACUL SDK\n  const { signup, texts, alternateConnections, locales } = useSignupManager();\n\n  // Check whether separator component needs to be rendered based on social connections\n  const showSeparator = alternateConnections && alternateConnections.length > 0;\n\n  // Other Texts\n  const separatorText = texts?.separatorText || locales.page.separator;\n  document.title = texts?.pageTitle || locales.page.title;\n\n  // Apply theme from SDK instance when screen loads\n  applyAuth0Theme(signup);\n\n  // Extracting Tenant setting for social login component alignment on the layout via theme token\n  const socialLoginAlignment = extractTokenValue(\n    \"--ul-theme-widget-social-buttons-layout\"\n  );\n\n  const renderSocialLogins = (alignment: \"top\" | \"bottom\") => (\n    <>\n      {alignment === \"bottom\" && showSeparator && (\n        <ULThemeSeparator text={separatorText} />\n      )}\n      <AlternativeLogins />\n      {alignment === \"top\" && showSeparator && (\n        <ULThemeSeparator text={separatorText} />\n      )}\n    </>\n  );\n\n  return (\n    // Applying UDS theme overrides using the \"theme-universal\" class\n    <ULThemePageLayout className=\"theme-universal\">\n      <ULThemeCard className=\"w-full max-w-[400px] gap-0\">\n        <Header />\n        {socialLoginAlignment === \"top\" && renderSocialLogins(\"top\")}\n        <SignupForm />\n        <Footer />\n        {socialLoginAlignment === \"bottom\" && renderSocialLogins(\"bottom\")}\n      </ULThemeCard>\n    </ULThemePageLayout>\n  );\n}\n\nexport default SignupScreen;\n"],"names":["useSignupManager","signup","useSignup","screen","useScreen","transaction","useTransaction","alternateConnections","isCaptchaAvailable","texts","loginLink","captcha","payload","options","logOptions","executeSafely","locales","AlternativeLogins","handleFederatedSignup","handleConnectionSignup","connection","federatedSignupOptions","displayName","iconComponent","getSocialProviderDetails","socialButtonText","jsx","ULThemeSocialProviderButton","Footer","footerText","footerLinkText","jsxs","ULThemeLink","Header","logoAltText","title","description","Fragment","ULThemeLogo","ULThemeTitle","ULThemeSubtitle","SignupForm","handleSignup","handlePickCountryCode","errors","hasError","dismiss","useErrors","form","useForm","isSubmitting","watch","userNameValue","isUsernameValid","userNameErrors","useUsernameValidation","passwordValue","isPasswordValid","passwordResults","usePasswordValidation","enabledIdentifiers","useSignupIdentifiers","requiredIdentifiers","useMemo","identifier","optionalIdentifiers","handleCountryCodeSelect","useCallback","onSubmit","values","getIdentifierError","identifierType","fieldErrors","captchaSDKError","passwordSDKError","generalErrors","err","passwordLabel","captchaLabel","buttonText","passwordSecurityText","captchaConfig","captchaProps","useCaptcha","phoneCountryCode","transformAuth0CountryCode","renderIdentifierField","isRequired","ULThemeCountryCodePicker","FormField","field","fieldState","label","type","autoComplete","getIndividualIdentifierDetails","sdkError","FormItem","ULThemeFloatingLabelField","ULThemeFormMessage","createUsernameValidator","renderFields","identifiers","Form","error","ULThemeAlert","ULThemeAlertTitle","ULThemePasswordField","Captcha","ULThemePasswordValidator","ULThemeButton","SignupScreen","showSeparator","separatorText","applyAuth0Theme","socialLoginAlignment","extractTokenValue","renderSocialLogins","alignment","ULThemeSeparator","ULThemePageLayout","ULThemeCard"],"mappings":"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"}