import{j as e,r as U}from"../shared/react-vendor.C9XDpjI-.js";import{e as c,h as R,i as S,j as E,F as O,U as V,a as z,b,c as C,o as I,S as B,L as Y,N as J,y as $,g as m,k as q,l as G,m as H}from"../shared/common.lOgDNxwW.js";import{at as W,au as K,av as Q,G as X,D as Z,aw as _}from"../shared/vendor.CuJT1XvO.js";const ee={title:"Verify Your Identity"},te={logoAltText:"Application Logo",title:"Verify Your Identity",description:"Weâ€™ve sent a notification to the following device via the app:"},ne={rememberDeviceText:"Remember this device for 30 days",enterOtpCodeText:"Manually Enter Code",resendText:"Didn't receive a code?",resendActionText:"Resend",tryAnotherMethodText:"Try another method",separatorText:"OR",yourDeviceText:"Your Device"},re={errorOccurred:"An error occurred"},se={page:ee,heading:te,form:ne,errors:re},u=()=>{const o=W(),r=K(),t=Q(),{texts:a,data:l,links:h}=o,{enrolledFactors:d}=r||{};return{data:l,links:h,locales:se,enrolledFactors:d,mfaPushChallengePush:t,handleContinueMfaPushChallenge:async s=>{await c(`Continue MFA Push Challenge with options: ${JSON.stringify(s)}`,()=>t.continue(s))},handleResendPushNotification:async s=>{await c(`Resend MFA Push Notification with options: ${JSON.stringify(s)}`,()=>t.resendPushNotification(s))},handleEnterCodeManually:async s=>{await c("Switch to manual code entry for MFA Push Challenge",()=>t.enterCodeManually(s))},handleTryAnotherMethod:async s=>{await c("Request MFA Push Notification via another method",()=>t.tryAnotherMethod(s))},texts:a||{}}};function oe(){const{texts:o,locales:r}=u(),t=o?.title||r.heading.title,a=o?.description||r.heading.description,l=o?.logoAltText||r.heading.logoAltText;return e.jsxs(e.Fragment,{children:[e.jsx(R,{altText:l}),e.jsx(S,{children:t}),e.jsx(E,{className:"mb-6",children:a})]})}function ae(){const{data:o,texts:r,locales:t,enrolledFactors:a,handleEnterCodeManually:l,handleTryAnotherMethod:h,handleContinueMfaPushChallenge:d,handleResendPushNotification:x}=u(),i=X({defaultValues:{rememberDevice:!1}}),T=r?.rememberMeText||t.form.rememberDeviceText,f=r?.enterOtpCode||t.form.enterOtpCodeText,s=r?.resendText||t.form.resendText,j=r?.resendActionText||t.form.resendActionText,A=r?.pickAuthenticatorText||t.form.tryAnotherMethodText,{deviceName:g,showRememberDevice:M}=o||{},N=r?.separatorText||t.form.separatorText,P=a?.length?a.length>1:!1,{errors:D,hasError:L,dismiss:w}=Z(),p=D.byType("auth0").filter(n=>!n.field),{isRunning:k,startPolling:v,stopPolling:y}=_({intervalMs:3e3,onCompleted:()=>{d({rememberDevice:i.getValues().rememberDevice})},onError:n=>{console.error("Polling error:",n)}}),F=async n=>{await x(n?.rememberDevice?{rememberDevice:!0}:{})};return U.useEffect(()=>(v(),()=>y()),[v,y]),e.jsx(O,{...i,children:e.jsxs("form",{children:[L&&p.length>0&&e.jsx("div",{className:"space-y-3 mb-4",children:p.map(n=>e.jsx(V,{variant:"destructive",onDismiss:()=>w(n.id),children:e.jsx(z,{children:n.message||t.errors.errorOccurred})},n.id))}),e.jsx(b,{control:i.control,name:"device",render:({field:n})=>e.jsx(C,{children:e.jsx(I,{displayName:"",buttonText:g||t.form.yourDeviceText,iconComponent:k&&e.jsx(B,{}),disabled:!0,name:n.name,value:n.value,className:"theme-universal:border-input-border theme-universal:bg-disabled theme-universal:opacity-100"},g)})}),M&&e.jsx(b,{control:i.control,name:"rememberDevice",render:({field:n})=>e.jsx(C,{children:e.jsxs("div",{className:"flex items-center space-x-2 my-4 gap-1",children:[e.jsx(Y,{id:"rememberDevice",checked:n.value,onCheckedChange:n.onChange,className:"w-5 h-5 border-input-border border-radius-[1]"}),e.jsx(J,{htmlFor:"rememberDevice",className:"text-(length:--ul-theme-font-body-text-size) cursor-pointer",children:T})]})})}),e.jsx($,{text:N,className:"my-1"}),e.jsxs("div",{className:"text-center space-y-2 mt-6",children:[e.jsx(m,{onClick:()=>l(),variant:"outline",className:"w-full mb-4",children:f}),e.jsxs("span",{className:"text-(length:--ul-theme-font-body-text-size) font-body",children:[s," "]}),e.jsx(m,{onClick:()=>F({rememberDevice:!!i.getValues().rememberDevice}),variant:"link",size:"link",children:j}),P&&e.jsx(m,{onClick:()=>h(),variant:"link",size:"link",children:A})]})]})})}function he(){const{texts:o,locales:r,mfaPushChallengePush:t}=u();return q(t),document.title=o?.pageTitle||r.page.title,e.jsx(G,{className:"theme-universal",children:e.jsxs(H,{className:"w-full max-w-[400px] gap-0",children:[e.jsx(oe,{}),e.jsx(ae,{})]})})}export{he as default};
//# sourceMappingURL=index.DBZHxmz8.js.map
