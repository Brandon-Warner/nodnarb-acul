{"version":3,"file":"index.CCXCwNlz.js","sources":["../../../src/screens/mfa-country-codes/hooks/useMfaCountryCodesManager.ts","../../../src/screens/mfa-country-codes/components/MfaCountryCodesHeader.tsx","../../../src/screens/mfa-country-codes/components/MfaCountryCodesList.tsx","../../../src/screens/mfa-country-codes/index.tsx"],"sourcesContent":["import {\n  useMfaCountryCodes,\n  useScreen,\n} from \"@auth0/auth0-acul-react/mfa-country-codes\";\nimport type { SelectCountryCodeOptions } from \"@auth0/auth0-acul-react/types\";\n\nimport locales from \"@/screens/mfa-country-codes/locales/en.json\";\nimport { executeSafely } from \"@/utils/helpers/executeSafely\";\n\nexport const useMfaCountryCodesManager = () => {\n  const screen = useScreen();\n  const mfaCountryCodes = useMfaCountryCodes();\n\n  const { texts, data } = screen;\n\n  const handleBackAction = async (): Promise<void> => {\n    await executeSafely(\"Navigate back\", () => mfaCountryCodes.goBack({}));\n  };\n\n  const handleSelectCountryCode = async (\n    countryCode: string,\n    phonePrefix: string\n  ): Promise<void> => {\n    const options: SelectCountryCodeOptions = {\n      country_code: countryCode,\n      phone_prefix: phonePrefix,\n    };\n\n    await executeSafely(\n      `Select country code: ${countryCode} with prefix: +${phonePrefix}`,\n      () => mfaCountryCodes.selectCountryCode(options)\n    );\n  };\n\n  return {\n    mfaCountryCodes,\n    handleBackAction,\n    handleSelectCountryCode,\n    texts: texts || {},\n    locales,\n    phonePrefixes: data?.phone_prefixes || [],\n  };\n};\n","import { ChevronLeft } from \"lucide-react\";\n\nimport {\n  Tooltip,\n  TooltipContent,\n  TooltipTrigger,\n} from \"@/components/ui/tooltip\";\nimport ULThemeSeparator from \"@/components/ULThemeSeparator\";\nimport ULThemeTitle from \"@/components/ULThemeTitle\";\n\nimport { useMfaCountryCodesManager } from \"../hooks/useMfaCountryCodesManager\";\n\nfunction MfaCountryCodesHeader() {\n  const { texts, locales, handleBackAction } = useMfaCountryCodesManager();\n\n  // Use locales as fallback to SDK texts\n  const backText = texts?.backText || locales?.header?.backText;\n  const titleText = texts?.title || locales?.header?.title;\n\n  return (\n    <>\n      {/* Header with back button and title */}\n      <span className=\"flex items-center justify-start gap-6\">\n        <Tooltip>\n          <TooltipTrigger\n            onClick={handleBackAction}\n            aria-label={backText}\n            className=\"h-8 w-8 p-0 -ml-2 cursor-pointer\"\n          >\n            <ChevronLeft size={24} />\n          </TooltipTrigger>\n          <TooltipContent\n            side=\"top\"\n            sideOffset={0}\n            className=\"bg-black text-white -mb-2 ml-0.5\"\n          >\n            {backText}\n          </TooltipContent>\n        </Tooltip>\n\n        <ULThemeTitle className=\"text-lg mt-0 mb-0\">{titleText}</ULThemeTitle>\n      </span>\n      <ULThemeSeparator />\n    </>\n  );\n}\n\nexport default MfaCountryCodesHeader;\n","import { useMemo, useState } from \"react\";\n\nimport { useErrors } from \"@auth0/auth0-acul-react/mfa-country-codes\";\nimport type { ErrorItem, PhonePrefix } from \"@auth0/auth0-acul-react/types\";\nimport { ChevronRight } from \"lucide-react\";\n\nimport { ULThemeAlert, ULThemeAlertTitle } from \"@/components/ULThemeError\";\nimport ULThemeSearch from \"@/components/ULThemeSearch\";\nimport ULThemeSeparator from \"@/components/ULThemeSeparator\";\nimport ULThemeSocialProviderButton from \"@/components/ULThemeSocialProviderButton\";\nimport { cn } from \"@/lib/utils\";\nimport { getCountryFlag } from \"@/utils/helpers/countryUtils\";\n\nimport { useMfaCountryCodesManager } from \"../hooks/useMfaCountryCodesManager\";\n\nfunction MfaCountryCodesList() {\n  const { phonePrefixes, handleSelectCountryCode, texts, locales } =\n    useMfaCountryCodesManager();\n\n  const [searchQuery, setSearchQuery] = useState(\"\");\n\n  const { errors, hasError, dismiss } = useErrors();\n\n  // Get general errors (not field-specific)\n  const generalErrors: ErrorItem[] = errors\n    .byType(\"auth0\")\n    .filter((err) => !err.field);\n\n  // Filter countries based on search query - memoized to avoid recalculation on every render\n  const filteredCountries = useMemo(() => {\n    return phonePrefixes.filter((prefix: PhonePrefix) => {\n      const query = searchQuery.toLowerCase();\n      return (\n        prefix.country.toLowerCase().includes(query) ||\n        prefix.country_code.toLowerCase().includes(query) ||\n        prefix.phone_prefix.includes(query)\n      );\n    });\n  }, [phonePrefixes, searchQuery]);\n\n  // Use locales as fallback to SDK texts\n  const searchPlaceholder =\n    texts?.searchPlaceholder || locales?.list?.searchPlaceholder;\n  const noResultsText = texts?.noResultsText || locales?.list?.noResultsText;\n\n  return (\n    <>\n      {/* Display general errors */}\n      {hasError && generalErrors.length > 0 && (\n        <div className=\"space-y-3 mb-4\">\n          {generalErrors.map((error) => (\n            <ULThemeAlert\n              key={error.id}\n              variant=\"destructive\"\n              onDismiss={() => dismiss(error.id)}\n            >\n              <ULThemeAlertTitle>\n                {error.message || locales?.errors?.errorOccurred}\n              </ULThemeAlertTitle>\n            </ULThemeAlert>\n          ))}\n        </div>\n      )}\n\n      {/* Search Box */}\n      <div className=\"mb-2\">\n        <ULThemeSearch\n          placeholder={searchPlaceholder}\n          value={searchQuery}\n          onChange={(e) => setSearchQuery(e.target.value)}\n        />\n      </div>\n\n      {/* Scrollable Country List */}\n      <div\n        className={cn(\n          \"space-y-0 max-h-[400px] overflow-y-auto overflow-x-hidden\",\n          // Custom scrollbar styling\n          \"scrollbar-thin scrollbar-thumb-gray-300 scrollbar-track-transparent\",\n          \"[&::-webkit-scrollbar]:w-2\",\n          \"[&::-webkit-scrollbar-track]:bg-transparent\",\n          \"[&::-webkit-scrollbar-thumb]:bg-gray-300\",\n          \"[&::-webkit-scrollbar-thumb]:rounded-full\",\n          \"[&::-webkit-scrollbar-thumb]:hover:bg-gray-400\"\n        )}\n      >\n        {filteredCountries.length > 0 ? (\n          filteredCountries.map((prefix: PhonePrefix, index: number) => {\n            const countryLabel = `${prefix.country} (+${prefix.phone_prefix})`;\n\n            return (\n              <div\n                key={`${prefix.country_code}-${prefix.phone_prefix}`}\n                className={cn(\n                  \"transition-colors duration-150\",\n                  \"hover:bg-gray-50/50 rounded-md\"\n                )}\n              >\n                <ULThemeSocialProviderButton\n                  variant=\"ghost\"\n                  displayName={countryLabel}\n                  buttonText={countryLabel}\n                  iconComponent={\n                    <span className=\"text-2xl w-6 h-6 flex items-center justify-center\">\n                      {getCountryFlag(prefix.country_code)}\n                    </span>\n                  }\n                  iconEnd={<ChevronRight size={24} color=\"#6f7780\" />}\n                  onClick={() =>\n                    handleSelectCountryCode(\n                      prefix.country_code,\n                      prefix.phone_prefix\n                    )\n                  }\n                  className=\"w-full justify-between px-0 [&>span:nth-child(2)]:font-semibold\"\n                />\n                {index < filteredCountries.length - 1 && (\n                  <ULThemeSeparator className=\"my-1\" />\n                )}\n              </div>\n            );\n          })\n        ) : (\n          <div className=\"text-center py-8 theme-universal:text-input-labels\">\n            {noResultsText}\n          </div>\n        )}\n      </div>\n    </>\n  );\n}\n\nexport default MfaCountryCodesList;\n","import ULThemeCard from \"@/components/ULThemeCard\";\nimport ULThemePageLayout from \"@/components/ULThemePageLayout\";\nimport { applyAuth0Theme } from \"@/utils/theme/themeEngine\";\n\nimport MfaCountryCodesHeader from \"./components/MfaCountryCodesHeader\";\nimport MfaCountryCodesList from \"./components/MfaCountryCodesList\";\nimport { useMfaCountryCodesManager } from \"./hooks/useMfaCountryCodesManager\";\n\nfunction MfaCountryCodesScreen() {\n  // Extracting attributes from hook made out of MfaCountryCodes instance of Auth0 React ACUL SDK\n  const { mfaCountryCodes, texts, locales } = useMfaCountryCodesManager();\n\n  applyAuth0Theme(mfaCountryCodes);\n  document.title = texts?.pageTitle || locales?.page?.title;\n\n  return (\n    <ULThemePageLayout className=\"theme-universal\">\n      <ULThemeCard className=\"w-full max-w-[400px] gap-0\">\n        <MfaCountryCodesHeader />\n        <MfaCountryCodesList />\n      </ULThemeCard>\n    </ULThemePageLayout>\n  );\n}\n\nexport default MfaCountryCodesScreen;\n"],"names":["useMfaCountryCodesManager","screen","useScreen","mfaCountryCodes","useMfaCountryCodes","texts","data","executeSafely","countryCode","phonePrefix","options","locales","MfaCountryCodesHeader","handleBackAction","backText","titleText","jsxs","Fragment","Tooltip","jsx","TooltipTrigger","ChevronLeft","TooltipContent","ULThemeTitle","ULThemeSeparator","MfaCountryCodesList","phonePrefixes","handleSelectCountryCode","searchQuery","setSearchQuery","useState","errors","hasError","dismiss","useErrors","generalErrors","err","filteredCountries","useMemo","prefix","query","searchPlaceholder","noResultsText","error","ULThemeAlert","ULThemeAlertTitle","ULThemeSearch","e","cn","index","countryLabel","ULThemeSocialProviderButton","getCountryFlag","ChevronRight","MfaCountryCodesScreen","applyAuth0Theme","ULThemePageLayout","ULThemeCard"],"mappings":"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"}