import{j as e,r as p}from"../shared/react-vendor.C9XDpjI-.js";import{e as b,T,G as k,H as w,i as v,y as f,U as N,a as L,I as S,o as _,J as U,K as g,k as A,l as P,m as M}from"../shared/common.lOgDNxwW.js";import{a6 as R,a7 as $,a8 as B,D as E,k as F}from"../shared/vendor.CuJT1XvO.js";const O={title:"Select your country code | your app"},z={backText:"Go back",title:"Select your country code"},D={searchPlaceholder:"Search",noResultsText:"No countries found"},G={errorOccurred:"An error occurred"},H={page:O,header:z,list:D,errors:G},u=()=>{const a=R(),s=$(),{texts:r,data:o}=a;return{mfaCountryCodes:s,handleBackAction:async()=>{await b("Navigate back",()=>s.goBack({}))},handleSelectCountryCode:async(l,i)=>{const d={country_code:l,phone_prefix:i};await b(`Select country code: ${l} with prefix: +${i}`,()=>s.selectCountryCode(d))},texts:r||{},locales:H,phonePrefixes:o?.phone_prefixes||[]}};function Q(){const{texts:a,locales:s,handleBackAction:r}=u(),o=a?.backText||s?.header?.backText,n=a?.title||s?.header?.title;return e.jsxs(e.Fragment,{children:[e.jsxs("span",{className:"flex items-center justify-start gap-6",children:[e.jsxs(T,{children:[e.jsx(k,{onClick:r,"aria-label":o,className:"h-8 w-8 p-0 -ml-2 cursor-pointer",children:e.jsx(B,{size:24})}),e.jsx(w,{side:"top",sideOffset:0,className:"bg-black text-white -mb-2 ml-0.5",children:o})]}),e.jsx(v,{className:"text-lg mt-0 mb-0",children:n})]}),e.jsx(f,{})]})}function q(){const{phonePrefixes:a,handleSelectCountryCode:s,texts:r,locales:o}=u(),[n,m]=p.useState(""),{errors:l,hasError:i,dismiss:d}=E(),x=l.byType("auth0").filter(t=>!t.field),h=p.useMemo(()=>a.filter(t=>{const c=n.toLowerCase();return t.country.toLowerCase().includes(c)||t.country_code.toLowerCase().includes(c)||t.phone_prefix.includes(c)}),[a,n]),C=r?.searchPlaceholder||o?.list?.searchPlaceholder,j=r?.noResultsText||o?.list?.noResultsText;return e.jsxs(e.Fragment,{children:[i&&x.length>0&&e.jsx("div",{className:"space-y-3 mb-4",children:x.map(t=>e.jsx(N,{variant:"destructive",onDismiss:()=>d(t.id),children:e.jsx(L,{children:t.message||o?.errors?.errorOccurred})},t.id))}),e.jsx("div",{className:"mb-2",children:e.jsx(S,{placeholder:C,value:n,onChange:t=>m(t.target.value)})}),e.jsx("div",{className:g("space-y-0 max-h-[400px] overflow-y-auto overflow-x-hidden","scrollbar-thin scrollbar-thumb-gray-300 scrollbar-track-transparent","[&::-webkit-scrollbar]:w-2","[&::-webkit-scrollbar-track]:bg-transparent","[&::-webkit-scrollbar-thumb]:bg-gray-300","[&::-webkit-scrollbar-thumb]:rounded-full","[&::-webkit-scrollbar-thumb]:hover:bg-gray-400"),children:h.length>0?h.map((t,c)=>{const y=`${t.country} (+${t.phone_prefix})`;return e.jsxs("div",{className:g("transition-colors duration-150","hover:bg-gray-50/50 rounded-md"),children:[e.jsx(_,{variant:"ghost",displayName:y,buttonText:y,iconComponent:e.jsx("span",{className:"text-2xl w-6 h-6 flex items-center justify-center",children:U(t.country_code)}),iconEnd:e.jsx(F,{size:24,color:"#6f7780"}),onClick:()=>s(t.country_code,t.phone_prefix),className:"w-full justify-between px-0 [&>span:nth-child(2)]:font-semibold"}),c<h.length-1&&e.jsx(f,{className:"my-1"})]},`${t.country_code}-${t.phone_prefix}`)}):e.jsx("div",{className:"text-center py-8 theme-universal:text-input-labels",children:j})})]})}function V(){const{mfaCountryCodes:a,texts:s,locales:r}=u();return A(a),document.title=s?.pageTitle||r?.page?.title,e.jsx(P,{className:"theme-universal",children:e.jsxs(M,{className:"w-full max-w-[400px] gap-0",children:[e.jsx(Q,{}),e.jsx(q,{})]})})}export{V as default};
//# sourceMappingURL=index.CCXCwNlz.js.map
