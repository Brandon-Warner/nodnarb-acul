import{j as s}from"../shared/react-vendor.C9XDpjI-.js";import{e as R,h as N,i as q,j as A,F as V,U as _,a as v,b as p,c as x,w as h,f,a7 as C,g as M,k,l as D,m as $}from"../shared/common.lOgDNxwW.js";import{b1 as Y,b2 as B,D as G,b3 as H,b4 as I,G as J}from"../shared/vendor.CuJT1XvO.js";const K="Reset your password",O={logoAltText:"Application Logo",title:"Change Your Password",description:"Enter a new password below to change your password."},z={fields:{password:{labelText:"New Password",required:"Password is required",doesNotMeetRequirements:"Password does not meet requirements"},confirmPassword:{labelText:"Re-enter new password"}},buttonText:"Reset Password",passwordSecurity:"Your password must contain:"},Q={pageTitle:K,header:O,form:z},c=()=>{const{texts:t}=Y(),o=async(r,n)=>{const a={"password-reset":r?.trim()||"","re-enter-password":n?.trim()||""};R(`Submit password reset with options: ${JSON.stringify(a)}`,()=>I(a))};return{resetPassword:H(),handleSubmitPassword:o,texts:t||{},locales:Q,useErrors:G(),usePasswordValidation:B}};function W(){const{texts:t,locales:o}=c(),r=t?.logoAltText||o.header.logoAltText,n=t?.title||o.header.title,a=t?.description||o.header.description;return s.jsxs(s.Fragment,{children:[s.jsx(N,{altText:r}),s.jsx(q,{children:n}),s.jsx(A,{className:"mb-6",children:a})]})}function X(){const{handleSubmitPassword:t,texts:o,locales:r,useErrors:n,usePasswordValidation:a}=c(),{errors:m,hasError:b,dismiss:T}=n,d=J({defaultValues:{new_password:"",confirm_password:""}}),{formState:{isSubmitting:j},watch:g}=d,w=g("new_password"),{isValid:P,results:y}=a(w),L=o?.buttonText||r.form.buttonText,S=o?.passwordPlaceholder||r.form.fields.password.labelText,F=o?.reEnterpasswordPlaceholder||r.form.fields.confirmPassword.labelText,U=o?.passwordSecurityText||r.form.passwordSecurity,u=m.byType("auth0")?.filter(e=>!e.field||e.field===null)||[],i=m.byField("password")[0]?.message,E=async e=>{await t(e.new_password,e.confirm_password)};return s.jsx(V,{...d,children:s.jsxs("form",{onSubmit:d.handleSubmit(E),children:[b&&u.length>0&&s.jsx("div",{className:"space-y-3 mb-4",children:u.map(e=>s.jsx(_,{variant:"destructive",onDismiss:()=>T(e.id),children:s.jsx(v,{children:e.message})},e.id))}),s.jsx(p,{control:d.control,name:"new_password",rules:{required:r.form.fields.password.required,validate:e=>e?P?!0:r.form.fields.password.doesNotMeetRequirements:r.form.fields.password.required},render:({field:e,fieldState:l})=>s.jsxs(x,{children:[s.jsx(h,{...e,label:`${S}*`,autoComplete:"new-password",error:!!l.error||!!i}),s.jsx(f,{hasFormError:!!l.error})]})}),s.jsx(p,{control:d.control,name:"confirm_password",render:({field:e,fieldState:l})=>s.jsxs(x,{children:[s.jsx(h,{...e,label:`${F}*`,autoComplete:"new-password",error:!!l.error||!!i}),s.jsx(f,{sdkError:i,hasFormError:!!l.error})]})}),s.jsx(C,{validationRules:y,passwordSecurityText:U,show:!!w,className:"mb-4"}),s.jsx(M,{type:"submit",className:"w-full",disabled:j,children:L})]})})}function rs(){const{resetPassword:t,texts:o,locales:r}=c();return k(t),document.title=o?.pageTitle||r.pageTitle,s.jsx(D,{className:"theme-universal",children:s.jsxs($,{className:"w-full max-w-[400px] gap-0",children:[s.jsx(W,{}),s.jsx(X,{})]})})}export{rs as default};
//# sourceMappingURL=index.DRDl1f0B.js.map
