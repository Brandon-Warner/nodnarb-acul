{"version":3,"file":"index.BQP9nVT0.js","sources":["../../../src/screens/mfa-sms-enrollment/hooks/useMfaSmsEnrollmentManager.ts","../../../src/screens/mfa-sms-enrollment/components/Footer.tsx","../../../src/screens/mfa-sms-enrollment/components/Header.tsx","../../../src/screens/mfa-sms-enrollment/components/MfaSmsEnrollmentForm.tsx","../../../src/screens/mfa-sms-enrollment/index.tsx"],"sourcesContent":["import {\n  useMfaSmsEnrollment,\n  useScreen,\n  useTransaction,\n} from \"@auth0/auth0-acul-react/mfa-sms-enrollment\";\nimport {\n  MfaSmsEnrollmentMembers,\n  ScreenMembersOnMfaSmsEnrollment,\n} from \"@auth0/auth0-acul-react/types\";\n\nimport locales from \"@/screens/mfa-sms-enrollment/locales/en.json\";\nimport { executeSafely } from \"@/utils/helpers/executeSafely\";\n\nexport const useMfaSmsEnrollmentManager = () => {\n  const mfaSmsEnrollment: MfaSmsEnrollmentMembers = useMfaSmsEnrollment();\n  const screen: ScreenMembersOnMfaSmsEnrollment = useScreen();\n  const transaction = useTransaction();\n\n  const { texts, data, links } = screen;\n  const { countryCode, countryPrefix } = transaction;\n\n  const handleContinueEnrollment = async (phone: string): Promise<void> => {\n    const options = {\n      phone: phone?.trim() || \"\",\n    };\n\n    await executeSafely(\n      `Continue MFA SMS Enrollment with options: ${JSON.stringify(options)}`,\n      () => mfaSmsEnrollment.continueEnrollment(options)\n    );\n  };\n\n  const handlePickCountryCode = async (): Promise<void> => {\n    await executeSafely(\"Pick country code\", () =>\n      mfaSmsEnrollment.pickCountryCode({})\n    );\n  };\n\n  const handleTryAnotherMethod = async (): Promise<void> => {\n    await executeSafely(\"Try another MFA method\", () =>\n      mfaSmsEnrollment.tryAnotherMethod({})\n    );\n  };\n\n  return {\n    mfaSmsEnrollment,\n    handleContinueEnrollment,\n    handlePickCountryCode,\n    handleTryAnotherMethod,\n    texts: (texts || {}) as ScreenMembersOnMfaSmsEnrollment[\"texts\"],\n    locales,\n    data,\n    links,\n    countryCode,\n    countryPrefix,\n  };\n};\n","import { ULThemeButton } from \"@/components/ULThemeButton\";\n\nimport { useMfaSmsEnrollmentManager } from \"../hooks/useMfaSmsEnrollmentManager\";\n\nfunction Footer() {\n  const { texts, locales, handleTryAnotherMethod } =\n    useMfaSmsEnrollmentManager();\n\n  // Use locales as fallback to SDK texts\n  const tryAnotherMethodText =\n    texts?.pickAuthenticatorText || locales?.footer?.tryAnotherMethodText;\n\n  const handleTryAnotherMethodClick = async () => {\n    await handleTryAnotherMethod();\n  };\n\n  return (\n    <div className=\"text-center space-y-2 mt-4\">\n      {/* Try another method link */}\n      <ULThemeButton\n        onClick={handleTryAnotherMethodClick}\n        variant=\"link\"\n        size=\"link\"\n      >\n        {tryAnotherMethodText}\n      </ULThemeButton>\n    </div>\n  );\n}\n\nexport default Footer;\n","import ULThemeLogo from \"@/components/ULThemeLogo\";\nimport ULThemeSubtitle from \"@/components/ULThemeSubtitle\";\nimport ULThemeTitle from \"@/components/ULThemeTitle\";\n\nimport { useMfaSmsEnrollmentManager } from \"../hooks/useMfaSmsEnrollmentManager\";\n\nfunction Header() {\n  const { texts, locales } = useMfaSmsEnrollmentManager();\n\n  // Use locales as fallback to SDK texts\n  const logoAltText = texts?.logoAltText || locales?.header?.logoAltText;\n  const title = texts?.title || locales?.header?.title;\n  const description = texts?.description || locales?.header?.description;\n\n  return (\n    <>\n      <ULThemeLogo altText={logoAltText}></ULThemeLogo>\n      <ULThemeTitle>{title}</ULThemeTitle>\n      <ULThemeSubtitle className=\"mb-6\">{description}</ULThemeSubtitle>\n    </>\n  );\n}\n\nexport default Header;\n","import { useForm } from \"react-hook-form\";\n\nimport { useErrors } from \"@auth0/auth0-acul-react/mfa-sms-enrollment\";\nimport type { ErrorItem } from \"@auth0/auth0-acul-react/types\";\n\nimport {\n  ULThemeFloatingLabelField,\n  ULThemeFormMessage,\n} from \"@/components/form\";\nimport { Form, FormField, FormItem } from \"@/components/ui/form\";\nimport { ULThemeButton } from \"@/components/ULThemeButton\";\nimport ULThemeCountryCodePicker from \"@/components/ULThemeCountryCodePicker\";\nimport { ULThemeAlert, ULThemeAlertTitle } from \"@/components/ULThemeError\";\nimport { transformAuth0CountryCode } from \"@/utils/helpers/countryUtils\";\n\nimport { useMfaSmsEnrollmentManager } from \"../hooks/useMfaSmsEnrollmentManager\";\n\ninterface MfaSmsEnrollmentFormData {\n  phone: string;\n}\n\nfunction MfaSmsEnrollmentForm() {\n  const {\n    handleContinueEnrollment,\n    handlePickCountryCode,\n    texts,\n    locales,\n    countryCode,\n    countryPrefix,\n  } = useMfaSmsEnrollmentManager();\n\n  // Initialize the form using react-hook-form\n  const form = useForm<MfaSmsEnrollmentFormData>({\n    defaultValues: {\n      phone: \"\",\n    },\n  });\n\n  const {\n    formState: { isSubmitting },\n  } = form;\n\n  // Use locales as fallback to SDK texts\n  const buttonText = texts?.buttonText || locales?.form?.continueButtonText;\n  const phoneLabelText = texts?.placeholder || locales?.form?.phoneLabel;\n  const sendingText = locales?.form?.sendingText;\n  const selectCountryPlaceholder = locales?.form?.selectCountryPlaceholder;\n\n  const { errors, hasError, dismiss } = useErrors();\n\n  // Get field-specific SDK errors\n  const phoneSDKError = errors.byField(\"phone\")[0]?.message;\n\n  // Get general errors (not field-specific)\n  const generalErrors: ErrorItem[] = errors\n    .byType(\"auth0\")\n    .filter((err) => !err.field);\n\n  const onSubmit = async (formData: MfaSmsEnrollmentFormData) => {\n    await handleContinueEnrollment(formData.phone);\n  };\n  const handleCountryCodeClick = async () => {\n    await handlePickCountryCode();\n  };\n\n  return (\n    <Form {...form}>\n      <form onSubmit={form.handleSubmit(onSubmit)} className=\"space-y-2\">\n        {/* Display general errors */}\n        {hasError && generalErrors.length > 0 && (\n          <div className=\"space-y-3 mb-4\">\n            {generalErrors.map((error) => (\n              <ULThemeAlert\n                key={error.id}\n                variant=\"destructive\"\n                onDismiss={() => dismiss(error.id)}\n              >\n                <ULThemeAlertTitle>\n                  {error.message || locales?.errors?.errorOccurred}\n                </ULThemeAlertTitle>\n              </ULThemeAlert>\n            ))}\n          </div>\n        )}\n\n        {/* Country Code Picker */}\n        <ULThemeCountryCodePicker\n          selectedCountry={transformAuth0CountryCode(\n            countryCode,\n            countryPrefix\n          )}\n          onClick={handleCountryCodeClick}\n          fullWidth\n          placeholder={selectCountryPlaceholder}\n        />\n\n        {/* Phone Number input field */}\n        <FormField\n          control={form.control}\n          name=\"phone\"\n          rules={{\n            required: locales?.errors?.phoneRequired,\n          }}\n          render={({ field, fieldState }) => (\n            <FormItem>\n              <ULThemeFloatingLabelField\n                {...field}\n                label={phoneLabelText}\n                type=\"tel\"\n                inputMode=\"numeric\"\n                autoComplete=\"tel\"\n                autoFocus\n                error={!!fieldState.error || !!phoneSDKError}\n              />\n              <ULThemeFormMessage\n                sdkError={phoneSDKError}\n                hasFormError={!!fieldState.error}\n              />\n            </FormItem>\n          )}\n        />\n\n        {/* Submit button */}\n        <ULThemeButton\n          type=\"submit\"\n          variant=\"primary\"\n          className=\"w-full\"\n          disabled={isSubmitting}\n        >\n          {isSubmitting ? sendingText : buttonText}\n        </ULThemeButton>\n      </form>\n    </Form>\n  );\n}\n\nexport default MfaSmsEnrollmentForm;\n","import ULThemeCard from \"@/components/ULThemeCard\";\nimport ULThemePageLayout from \"@/components/ULThemePageLayout\";\nimport { applyAuth0Theme } from \"@/utils/theme/themeEngine\";\n\nimport Footer from \"./components/Footer\";\nimport Header from \"./components/Header\";\nimport MfaSmsEnrollmentForm from \"./components/MfaSmsEnrollmentForm\";\nimport { useMfaSmsEnrollmentManager } from \"./hooks/useMfaSmsEnrollmentManager\";\n\nfunction MfaSmsEnrollmentScreen() {\n  // Extracting attributes from hook made out of MfaSmsEnrollment instance of Auth0 React ACUL SDK\n  const { mfaSmsEnrollment, texts, locales } = useMfaSmsEnrollmentManager();\n\n  applyAuth0Theme(mfaSmsEnrollment);\n  document.title = texts?.pageTitle || locales?.page?.title;\n\n  return (\n    <ULThemePageLayout className=\"theme-universal\">\n      <ULThemeCard className=\"w-full max-w-[400px] gap-0\">\n        <Header />\n        <MfaSmsEnrollmentForm />\n        <Footer />\n      </ULThemeCard>\n    </ULThemePageLayout>\n  );\n}\n\nexport default MfaSmsEnrollmentScreen;\n"],"names":["useMfaSmsEnrollmentManager","mfaSmsEnrollment","useMfaSmsEnrollment","screen","useScreen","transaction","useTransaction","texts","data","links","countryCode","countryPrefix","phone","options","executeSafely","locales","Footer","handleTryAnotherMethod","tryAnotherMethodText","handleTryAnotherMethodClick","jsx","ULThemeButton","Header","logoAltText","title","description","jsxs","Fragment","ULThemeLogo","ULThemeTitle","ULThemeSubtitle","MfaSmsEnrollmentForm","handleContinueEnrollment","handlePickCountryCode","form","useForm","isSubmitting","buttonText","phoneLabelText","sendingText","selectCountryPlaceholder","errors","hasError","dismiss","useErrors","phoneSDKError","generalErrors","err","onSubmit","formData","handleCountryCodeClick","Form","error","ULThemeAlert","ULThemeAlertTitle","ULThemeCountryCodePicker","transformAuth0CountryCode","FormField","field","fieldState","FormItem","ULThemeFloatingLabelField","ULThemeFormMessage","MfaSmsEnrollmentScreen","applyAuth0Theme","ULThemePageLayout","ULThemeCard"],"mappings":"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"}