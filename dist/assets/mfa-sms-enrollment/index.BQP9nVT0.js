import{j as e}from"../shared/react-vendor.C9XDpjI-.js";import{e as u,g as b,h as M,i as E,j as L,F,U as k,a as w,s as P,v as U,b as N,c as v,d as q,f as B,k as D,l as O,m as R}from"../shared/common.lOgDNxwW.js";import{aK as K,aL as z,aM as G,G as H,D as I}from"../shared/vendor.CuJT1XvO.js";const J={title:"Secure Your Account - MFA"},V={logoAltText:"Application Logo",title:"Add Phone Number",description:"Enter your phone number below. An SMS will be sent to that number with a code to enter on the next screen."},W={selectCountryPlaceholder:"Select Country",phoneLabel:"Enter your phone number*",continueButtonText:"Continue",sendingText:"Sending..."},Y={tryAnotherMethodText:"Try another method"},$={errorOccurred:"An error occurred",phoneRequired:"Please enter your phone number."},Q={page:J,header:V,form:W,footer:Y,errors:$},h=()=>{const t=K(),n=z(),r=G(),{texts:o,data:a,links:d}=n,{countryCode:l,countryPrefix:i}=r;return{mfaSmsEnrollment:t,handleContinueEnrollment:async m=>{const c={phone:m?.trim()||""};await u(`Continue MFA SMS Enrollment with options: ${JSON.stringify(c)}`,()=>t.continueEnrollment(c))},handlePickCountryCode:async()=>{await u("Pick country code",()=>t.pickCountryCode({}))},handleTryAnotherMethod:async()=>{await u("Try another MFA method",()=>t.tryAnotherMethod({}))},texts:o||{},locales:Q,data:a,links:d,countryCode:l,countryPrefix:i}};function X(){const{texts:t,locales:n,handleTryAnotherMethod:r}=h(),o=t?.pickAuthenticatorText||n?.footer?.tryAnotherMethodText,a=async()=>{await r()};return e.jsx("div",{className:"text-center space-y-2 mt-4",children:e.jsx(b,{onClick:a,variant:"link",size:"link",children:o})})}function Z(){const{texts:t,locales:n}=h(),r=t?.logoAltText||n?.header?.logoAltText,o=t?.title||n?.header?.title,a=t?.description||n?.header?.description;return e.jsxs(e.Fragment,{children:[e.jsx(M,{altText:r}),e.jsx(E,{children:o}),e.jsx(L,{className:"mb-6",children:a})]})}function _(){const{handleContinueEnrollment:t,handlePickCountryCode:n,texts:r,locales:o,countryCode:a,countryPrefix:d}=h(),l=H({defaultValues:{phone:""}}),{formState:{isSubmitting:i}}=l,x=r?.buttonText||o?.form?.continueButtonText,y=r?.placeholder||o?.form?.phoneLabel,p=o?.form?.sendingText,m=o?.form?.selectCountryPlaceholder,{errors:c,hasError:g,dismiss:j}=I(),T=c.byField("phone")[0]?.message,f=c.byType("auth0").filter(s=>!s.field),A=async s=>{await t(s.phone)},S=async()=>{await n()};return e.jsx(F,{...l,children:e.jsxs("form",{onSubmit:l.handleSubmit(A),className:"space-y-2",children:[g&&f.length>0&&e.jsx("div",{className:"space-y-3 mb-4",children:f.map(s=>e.jsx(k,{variant:"destructive",onDismiss:()=>j(s.id),children:e.jsx(w,{children:s.message||o?.errors?.errorOccurred})},s.id))}),e.jsx(P,{selectedCountry:U(a,d),onClick:S,fullWidth:!0,placeholder:m}),e.jsx(N,{control:l.control,name:"phone",rules:{required:o?.errors?.phoneRequired},render:({field:s,fieldState:C})=>e.jsxs(v,{children:[e.jsx(q,{...s,label:y,type:"tel",inputMode:"numeric",autoComplete:"tel",autoFocus:!0,error:!!C.error||!!T}),e.jsx(B,{sdkError:T,hasFormError:!!C.error})]})}),e.jsx(b,{type:"submit",variant:"primary",className:"w-full",disabled:i,children:i?p:x})]})})}function ne(){const{mfaSmsEnrollment:t,texts:n,locales:r}=h();return D(t),document.title=n?.pageTitle||r?.page?.title,e.jsx(O,{className:"theme-universal",children:e.jsxs(R,{className:"w-full max-w-[400px] gap-0",children:[e.jsx(Z,{}),e.jsx(_,{}),e.jsx(X,{})]})})}export{ne as default};
//# sourceMappingURL=index.BQP9nVT0.js.map
